/*
GreedyNav.js - http://lukejacksonn.com/actuate
Licensed under the MIT license - http://opensource.org/licenses/MIT
Copyright (c) 2015 Luke Jackson
*/
$(function(){function n(){function t(e,n){d+=n,i+=1,r.push(d)}function e(e){var n=e.clone();n.css("visibility","hidden"),l.append(n),t(0,n.outerWidth()),n.remove()}d=i=0,o=1e3,r=[],l.children().outerWidth(t),h.children().each(function(){e($(this))})}function t(){var e=(W=$(window).width())<768?0:W<1024?1:W<1280?2:3;e!==p&&n(),p=e,f=l.children().length,g=u.innerWidth()-(0!==c.length?c.outerWidth(!0):0)-s.outerWidth(!0)-(0!==v.length?v.outerWidth(!0):0)-(f!==r.length?a.outerWidth(!0):0),y=r[f-1],g<y?(l.children().last().prependTo(h),f-=1,t()):g+(f===r.length-1?a.outerWidth(!0):0)>r[f]&&(h.children().first().appendTo(l),f+=1,t()),a.attr("count",i-f),f===i?a.addClass("hidden"):a.removeClass("hidden")}var i,d,o,r,a=$("nav.greedy-nav .greedy-nav__toggle"),l=$("nav.greedy-nav .visible-links"),h=$("nav.greedy-nav .hidden-links"),u=$("nav.greedy-nav"),c=$("nav.greedy-nav .site-logo"),e=$("nav.greedy-nav .site-logo img"),s=$("nav.greedy-nav .site-title"),v=$("nav.greedy-nav button.search__toggle");n();var g,f,y,m,W=$(window).width(),p=W<768?0:W<1024?1:W<1280?2:3;$(window).resize(function(){t()}),a.on("click",function(){h.toggleClass("hidden"),clearTimeout(m)}),h.on("mouseleave",function(){m=setTimeout(function(){h.addClass("hidden")},o)}).on("mouseenter",function(){clearTimeout(m)}),0!==e.length?e[0].complete||0!==e[0].naturalWidth?t():e.one("load error",t):t()});