$(document).ready(function(){$("#main").fitVids(),$(".author__urls-wrapper button").on("click",function(){$(".author__urls").toggleClass("is--visible"),$(".author__urls-wrapper").find("button").toggleClass("open")}),$(document).keyup(function(e){27===e.keyCode&&$(".initial-content").hasClass("is--hidden")&&($(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"))}),$(".search__toggle").on("click",function(){$(".search-content").toggleClass("is--visible"),$(".initial-content").toggleClass("is--hidden"),setTimeout(function(){$(".search-content input").focus()},400)});new SmoothScroll('a[href*="#"]',{offset:20,speed:400,speedAsDuration:!0,durationMax:500});if($("nav.toc").length>0)new Gumshoe("nav.toc a",{navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:20,reflow:!0,events:!0});const e=function(e){var t=e.target,n={behavior:"auto",block:"nearest",inline:"start"},a=document.querySelector("aside.sidebar__right.sticky");a&&"sticky"===window.getComputedStyle(a).position&&(t.parentElement.classList.contains("toc__menu")&&t==t.parentElement.firstElementChild?document.querySelector("nav.toc header").scrollIntoView(n):t.scrollIntoView(n))};window.chrome&&document.addEventListener("gumshoeActivate",e),$("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.JPG'],a[href$='.png'],a[href$='.gif'],a[href$='.webp']").has("> img").addClass("image-popup"),$(".image-popup").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">Image #%curr%</a> could not be loaded.'},removalDelay:500,mainClass:"mfp-zoom-in",callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim")}},closeOnContentClick:!0,midClick:!0}),document.querySelector(".page__content").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(function(e){var t=e.getAttribute("id");if(t){var n=document.createElement("a");n.className="header-link",n.href="#"+t,n.innerHTML='<span class="sr-only">Permalink</span><i class="fas fa-link"></i>',n.title="Permalink",e.appendChild(n)}});var t=function(e){if(document.queryCommandEnabled("copy")&&navigator.clipboard)return navigator.clipboard.writeText(e).then(()=>!0,()=>console.error("Failed to copy text to clipboard: "+e)),!0;var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.className="clipboard-helper",n.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;n.style.top=a+"px",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var o=!0;try{n.select(),o=document.execCommand("copy")}catch(i){o=!1}return n.parentNode.removeChild(n),o},n=function(e){for(var n=e.target,a=n.nextElementSibling;a&&"code"!==a.tagName.toLowerCase();)a=a.nextElementSibling;if(!a)throw console.warn(n),new Error("No code block found for this button.");var o=a.querySelector("td.code, td.rouge-code");o&&(a=o);var i=t(a.innerText);return n.focus(),i&&(null!==n.interval&&clearInterval(n.interval),n.classList.add("copied"),n.interval=setTimeout(function(){n.classList.remove("copied"),clearInterval(n.interval),n.interval=null},1500)),i};window.enable_copy_code_button&&document.querySelectorAll(".page__content pre.highlight > code").forEach(function(e){var t=e.parentElement;if("code"===t.firstElementChild.tagName.toLowerCase()){var a=document.createElement("button");a.title="Copy to clipboard",a.className="clipboard-copy-button",a.innerHTML='<span class="sr-only">Copy code</span><i class="far fa-fw fa-copy"></i><i class="fas fa-fw fa-check copied"></i>',a.addEventListener("click",n),t.prepend(a)}})});