<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://www.paulfioravanti.com/feed.xml" rel="self" type="application/atom+xml"/><link href="https://www.paulfioravanti.com/" rel="alternate" type="text/html"/><updated>2021-01-05T11:11:21+11:00</updated><id>https://www.paulfioravanti.com/feed.xml</id><title type="html">Floor and Varnish</title><subtitle>The permanent drafts folder for brain dumps of Paul Fioravanti</subtitle><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><entry><title type="html">Organise a Meetup</title><link href="https://www.paulfioravanti.com/blog/organise-meetups/" rel="alternate" type="text/html" title="Organise a Meetup"/><published>2021-01-04T10:00:00+11:00</published><updated>2021-01-04T10:00:00+11:00</updated><id>https://www.paulfioravanti.com/blog/organise-meetups</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/organise-meetups/">&lt;p&gt;In a previous post, &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/speak-at-meetups/&quot;&gt;Speak at a Meetup&lt;/a&gt;&lt;/em&gt;, I attempted to convince you that actively participating and delivering talks at your local technical meetup is A Good Thing that you definitely Want To Try.&lt;/p&gt; &lt;p&gt;I will assume the pitch was a :sparkles: great success :sparkles:, and you have been attending, participating, and even speaking at meetups; receiving accolades, and the admiration of your peers.&lt;/p&gt; &lt;p&gt;Would you consider stretching your meetup wings a bit further, give back to your community, or even just get some event management experience?&lt;/p&gt; &lt;p&gt;Well, becoming a meetup organiser ticks all of those boxes! So, this post aims to:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Pitch the benefits of becoming a meetup organiser&lt;/li&gt; &lt;li&gt;Share some anecdotes and experiences of my time as an organiser&lt;/li&gt; &lt;li&gt;Share my ideas and opinions around preparing for and holding meetups, for your consideration&lt;/li&gt; &lt;li&gt;Basically just &lt;a href=&quot;https://www.merriam-webster.com/dictionary/brain%20dump&quot;&gt;brain dump&lt;/a&gt; everything I know about organising meetups&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;There is a lot to go over, so strap yourself in.&lt;/p&gt; &lt;blockquote&gt; &lt;h2 id=&quot;a-word-about-the-plague&quot;&gt;A Word about the Plague&lt;/h2&gt; &lt;p&gt;With the advent of &lt;a href=&quot;https://en.wikipedia.org/wiki/Coronavirus_disease_2019&quot;&gt;COVID-19&lt;/a&gt;, meetup dynamics changed completely from in-person to online-only.&lt;/p&gt; &lt;p&gt;As of this writing, I would certainly not feel comfortable hosting in-person events, for the sake of all participants, even if any of the venues who have graciously allowed us to use their facilities in the past would permit them.&lt;/p&gt; &lt;p&gt;The logistics of hosting an online meetup are comparatively simpler than in-person, but new challenges arise around keeping your community engaged and coming back to events.&lt;/p&gt; &lt;p&gt;My hope is that in-person meetups have not become obsolete, and will return in the near future (and hence the following information about them will become relevant again), but even when they do, there are definitely elements from online meetups that I intend to bring into &lt;a href=&quot;https://en.wiktionary.org/wiki/meatspace&quot;&gt;meatspace&lt;/a&gt;, which I will further elaborate on later.&lt;/p&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;why-become-an-organiser&quot;&gt;Why become an organiser?&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/elm-sydney-paul.jpg&quot; alt=&quot;image elm-sydney-paul&quot; /&gt;&lt;/p&gt; &lt;p&gt;At a distant past &lt;a href=&quot;https://www.meetup.com/Ruby-On-Rails-Oceania-Sydney&quot;&gt;Ruby on Rails Oceania Sydney (RORO)&lt;/a&gt; meetup, the organisers starting asking some participants if they would consider becoming organisers themselves, and effectively take over running the meetup (I seem to recall the reasons being due to the demands of raising a young family, and competing time commitments for work, which is fair enough).&lt;/p&gt; &lt;p&gt;Before being asked, organising was not something I had thought about doing at all. It was great being a participant and a member of a community, and I did not feel actively compelled to seek out what seemed like more work. However, by the end of the meetup, I had signed up for the following reasons:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;It would be a new experience. I had never done any kind of event organising before, so I decided to silence all internal dissenting voices, throw myself out of my comfort zone, see what would happen, and hopefully learn something along the way.&lt;/li&gt; &lt;li&gt;Giving back would be a good thing. The very evening I moved permanently to Sydney, Australia, a place where I had no family and few friends, I made a beeline directly for the &lt;a href=&quot;https://www.ruby-lang.org/en/&quot;&gt;Ruby&lt;/a&gt; community, and was welcomed. Over time, I gave talks, mentored new developers, made new friends, and had lots of fun. I felt that this was a community worth maintaining and contributing to.&lt;/li&gt; &lt;li&gt;More public speaking. I figured that becoming an organiser would essentially force me to have a regular speaking gig, and help keep those vocal skills sharp.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;After nearly two years of being a RORO organiser, I took on further organiser roles at the &lt;a href=&quot;https://www.meetup.com/elixir-sydney/&quot;&gt;Elixir Sydney&lt;/a&gt;, &lt;a href=&quot;https://www.meetup.com/GraphQL-Sydney/&quot;&gt;GraphQL Sydney&lt;/a&gt;, and &lt;a href=&quot;https://www.meetup.com/Sydney-Elm-Meetup/&quot;&gt;Elm Sydney&lt;/a&gt; meetups, of which I am still an organiser of at the time of this writing. This required me to pass on my RORO torch on to a new team of amazing people, as four meetups became a bit too much for me to handle (it is good to be cognizant of your personal limits!).&lt;/p&gt; &lt;p&gt;I have no regrets on having travelled down the organiser path, and still find that I enjoy doing it. I get tremendous personal satisfaction from being able to provide a platform for others to speak about all the awesome stuff they have been doing, and help them construct their talks.&lt;/p&gt; &lt;p&gt;Meetups are all about community, and their management teams benefit greatly from a wide range of ideas and experiences, including yours. So, if you ever have the opportunity to be the enabler of those sparks of enthusiasm, I would encourage you to give it a try!&lt;/p&gt; &lt;h3 id=&quot;okay-im-interested-now-what&quot;&gt;Okay, I’m interested! Now what?&lt;/h3&gt; &lt;p&gt;If you want to know what kind of things you could help out with, or you want some ideas around what to include when starting your own meetup, read on, and hopefully the following will be of some reference as you take the reins and start leading your community.&lt;/p&gt; &lt;h2 id=&quot;content-is-king&quot;&gt;Content is King&lt;/h2&gt; &lt;p&gt;No half measures, let’s start with what I consider the hardest part of organising a technical meetup, regardless of whether it is in-person or online: sourcing talks.&lt;/p&gt; &lt;figure&gt; &lt;img src=&quot;/assets/images/2021-01-04/graphql-schedule.jpg&quot; alt=&quot;GraphQL Sydney&quot; /&gt; &lt;figcaption&gt; Photo by &lt;a href=&quot;https://twitter.com/tommarmstrong/status/872737400409268224&quot;&gt; Tomasso Armstrong &lt;/a&gt; &lt;/figcaption&gt; &lt;/figure&gt; &lt;p&gt;The dream for an organiser is to have a full pipeline of talks by willing and able speakers on a wide variety of topics that will cover multiple months worth of meetups. You then have the luxury of being able to group talks by content or technology, and establish an underlying theme for a meetup.&lt;/p&gt; &lt;p&gt;I remember I once had a pipeline of talks that covered a present &lt;em&gt;and&lt;/em&gt; a subsequent month’s meetups, and it felt &lt;em&gt;amazing&lt;/em&gt;! Good times…&lt;/p&gt; &lt;p&gt;So, yes, few organisers probably get to live that dream, but I am certainly not discouraged by that. Regardless of how much I may regurgitate the benefits I pitch in &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/speak-at-meetups/&quot;&gt;Speak at a Meetup&lt;/a&gt;&lt;/em&gt;, I know I am making a Big Ask when I canvass the community for presentations. I am essentially asking you to:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;take time out of your schedule to work for free by creating a talk&lt;/li&gt; &lt;li&gt;take more time out of your schedule to refine and practice your talk&lt;/li&gt; &lt;li&gt;maybe take even more time out of your schedule to have companion technical materials like demo environments and code repositories available&lt;/li&gt; &lt;li&gt;do something that you may not have experience doing, and initially may be uncomfortable, or just not like, doing&lt;/li&gt; &lt;li&gt;feel gratified that content creation is its own reward, and believe that the audience response will justify all your time and effort spent&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Would you do that for me…? Community Glory awaits! …Maybe next month, then…? Well, have a think about it and let’s talk again later!&lt;/p&gt; &lt;p&gt;…&lt;/p&gt; &lt;p&gt;Rinse and repeat, every month, with all the humility and thankfulness that you, as an organiser, can muster. Take the mindset that nobody owes you anything, and it is &lt;em&gt;the community&lt;/em&gt; doing &lt;em&gt;you&lt;/em&gt; a favour by providing the content needed to make the meetup a success. Proactively ask, but do not pressure.&lt;/p&gt; &lt;p&gt;Begging is fine, though; I get to practice that a lot :pray:&lt;/p&gt; &lt;h3 id=&quot;how-do-i-find-new-content&quot;&gt;How do I find new content?&lt;/h3&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-donna.jpg&quot; alt=&quot;image roro-donna&quot; /&gt;&lt;/p&gt; &lt;p&gt;Finding talk content for meetups is a treasure hunt, and the &lt;a href=&quot;https://www.theidioms.com/x-marks-the-spot/&quot;&gt;“X” that marks the spot&lt;/a&gt; on your map is a moving target, but I have been able to strike gold at the following places:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;Your own meetups&lt;/strong&gt;. After talks are finished at every meetup, make sure to take some time to let participants know that you are &lt;em&gt;always&lt;/em&gt; looking for talks, especially from first-time speakers. After proceedings, I have had many people ask whether a topic they want to talk about has been done before, or whether it would be interesting or not. Harness that interest and curiosity and guide it towards becoming a talk submission.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Other meetups&lt;/strong&gt;. See a talk you liked at another meetup that your community might also like or benefit from? Reach out to that speaker and see if they want to get more mileage out of their talk with another audience. &lt;a href=&quot;https://en.wikipedia.org/wiki/Write_once,_run_anywhere&quot;&gt;Write once, run anywhere&lt;/a&gt; can work for talks, too!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Social Media&lt;/strong&gt;. Assuming your community is subscribed to your social media, call outs are definitely the easiest way to do a beg blast for talks. Their regularity can become more frequent as the date of the meetup draws closer and you realise you still need speakers, but it is always better to secure talks as early as possible.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Direct Messaging&lt;/strong&gt;. If indirect social media requests yield nothing, sometimes people respond to being nudged directly. You should have a list of your community members, so do not be shy in reaching out and getting personal with requests.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Chat channels&lt;/strong&gt;. Your local tech community will likely have multiple &lt;a href=&quot;https://slack.com/&quot;&gt;Slack&lt;/a&gt; workspaces or &lt;a href=&quot;https://discord.com/&quot;&gt;Discord&lt;/a&gt; servers they frequent. I have had success in reaching out to developers who promote their projects there to give talks about them (also works when those promotions happen over social media).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Blog posts&lt;/strong&gt;. Did a member of your community write a blog post about something interesting? Ask if they can adapt it into a talk since they have already gone most of the distance with regards to content creation. It’s not plagiarism if it’s your own work!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Coding Bootcamps&lt;/strong&gt;. In order to get more junior developers to attend my meetups, I have gone and done talks at various coding bootcamps, which are &lt;em&gt;very&lt;/em&gt; fertile ground for new speakers. Ask a developer-in-training to take a presentation/demo they have already likely delivered to their class, and also give it to their future peers!&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Group Exercises&lt;/strong&gt;. Providing some kind of well-defined problem to solve can result in great content. I use &lt;a href=&quot;https://exercism.io/&quot;&gt;Exercism&lt;/a&gt; problems to encourage junior developers and first-time speakers to deliver a &lt;a href=&quot;https://en.wikipedia.org/wiki/Lightning_talk&quot;&gt;lightning talk&lt;/a&gt; on their solution, which then often produces great community discussion about the different ways to figure out that particular problem.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Post-Meetup Pub&lt;/strong&gt; :beers: There is almost always a group that heads to a nearby pub after an in-person meetup has finished (regardless of whether you had alcohol available at the meetup itself). As well as affording you the opportunity to talk with attendees you were unable to catch up with because you were too busy organising, the pub environment can also be the catalyst for conversations that lead into getting more talk submissions (promises after a few drinks are still promises!). For non-drinkers, those conversations take place over post-meetup &lt;a href=&quot;https://en.wikipedia.org/wiki/Gelato&quot;&gt;gelato&lt;/a&gt; :icecream:&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Once you do get someone interested in doing a talk for the meetup, depending on their level of experience or confidence with preparing talks, you may need, or be asked, to assist them with their content preparation, &lt;a href=&quot;https://www.merriam-webster.com/dictionary/dry%20run&quot;&gt;dry runs&lt;/a&gt;, timing, or generally be a &lt;a href=&quot;https://www.merriam-webster.com/dictionary/sounding%20board&quot;&gt;sounding board&lt;/a&gt;. Relish these requests as your speaker’s success also becomes your own (and the meetup’s), and doing this often leads to a &lt;a href=&quot;https://en.wikipedia.org/wiki/Virtuous_circle_and_vicious_circle&quot;&gt;virtuous circle&lt;/a&gt; that leads even more new content.&lt;/p&gt; &lt;h3 id=&quot;what-if-i-get-no-content&quot;&gt;What if I get no content?&lt;/h3&gt; &lt;p&gt;If, despite your best efforts, you were not able to get talks lined up for your technical meetup, or you have had last minute talk cancellations (it happens), and you, yourself, do not have your own content to prop up the speaker line-up, then there are a few options that can tide you over until the next meetup (note, though, that these ideas will probably mostly work best for in-person meetups):&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;Hack Night&lt;/strong&gt;. Change the meetup format to be a “hack night”, where people can work together on solving a problem, get mentored, or assist on each others projects etc.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Mob_programming&quot;&gt;Mob Programming&lt;/a&gt;&lt;/strong&gt;. Pick a problem to solve, like an &lt;a href=&quot;https://exercism.io/&quot;&gt;Exercism&lt;/a&gt; exercise, and have one person “drive” a machine, while everyone else chimes in with their solution proposals. Change the driver periodically. The rowdy discussions are part of the fun, and with tools like &lt;a href=&quot;https://repl.it/&quot;&gt;Repl.it&lt;/a&gt;, this can also succeed in a remote setting. &lt;img src=&quot;/assets/images/2021-01-04/elixir-quiz.jpg&quot; alt=&quot;image elixir-quiz&quot; style=&quot;width: 60%; float: right; margin: 1rem;&quot; /&gt;&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Quiz Night&lt;/strong&gt;. At some &lt;a href=&quot;https://www.meetup.com/elixir-sydney/&quot;&gt;Elixir Sydney&lt;/a&gt; meetups, we have used &lt;a href=&quot;https://elixircards.co.uk/&quot;&gt;Elixir Flashcards&lt;/a&gt; to form the basis of &lt;a href=&quot;https://en.wikipedia.org/wiki/Pub_quiz&quot;&gt;pub quiz&lt;/a&gt;-style activities, where the winning team takes all…of the kudos and admiration of the community :clap:&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Social Night&lt;/strong&gt;. Just do what you were planning on doing, but without the talks, focusing instead on just catching up, socialising, and debating the &lt;a href=&quot;https://en.wikipedia.org/wiki/Editor_war&quot;&gt;important issues&lt;/a&gt;.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Cancel It&lt;/strong&gt;. Sometimes, especially for online-only meetups, if the content is not there, then you may feel the need to cut your losses and focus on the following meetup. No shame.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;There are, of course, plenty of meetups out there whose sole purpose revolves around what I have outlined as an “alternative” activity, like hack/social nights. You may even want to have designated events for these kinds of activities in your meetup cadence to break up the flow, which is absolutely fine! The most important thing is holding events that people want to keep on coming back to, and that can be different for every community.&lt;/p&gt; &lt;h2 id=&quot;venues&quot;&gt;Venues&lt;/h2&gt; &lt;p&gt;If you are going to hold an in-person meetup, you need a location where people can gather to see all the wonderful content on offer. Depending on factors like how established your meetup is, and how many &lt;a href=&quot;https://dictionary.cambridge.org/dictionary/english/rsvp&quot;&gt;RSVP&lt;/a&gt;s you receive, your meetup’s venue requirements will be different.&lt;/p&gt; &lt;p&gt;Regardless or which kind of venue you intend to host your meetup at, I would implore you to have a think about, and explicitly make a note of, the minimum conditions that a venue must meet in order for you to be able to run your meetup successfully: the must-haves and the nice-to-haves.&lt;/p&gt; &lt;p&gt;When I attempted this exercise, this is what I came up with, and still use it as a baseline reference (bear in mind that some of the nice-to-haves only apply to an office venue context):&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-at-reactor.jpg&quot; alt=&quot;image roro-at-reactor&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;must-haves&quot;&gt;Must-Haves&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;Room for 80 people to at least stand&lt;/li&gt; &lt;li&gt;Projector/Big Screen that a laptop computer can connect to&lt;/li&gt; &lt;li&gt;Ability for food options to be available or delivered (street parking/elevators/docking area/trollies etc)&lt;/li&gt; &lt;li&gt;Tables/&lt;a href=&quot;https://en.wikipedia.org/wiki/Trestle_table&quot;&gt;trestles&lt;/a&gt; where food can be placed&lt;/li&gt; &lt;li&gt;Ability for finished food/utensils to be cleared/disposed of&lt;/li&gt; &lt;li&gt;Access to male/female toilets&lt;/li&gt; &lt;li&gt;Ability for people to get in to the venue if they come late&lt;/li&gt; &lt;/ul&gt; &lt;h3 id=&quot;nice-to-haves&quot;&gt;Nice-To-Haves&lt;/h3&gt; &lt;ul&gt; &lt;li&gt;Ability to sponsor food&lt;/li&gt; &lt;li&gt;Ability to provide disposable cutlery/crockery for catered food&lt;/li&gt; &lt;li&gt;Ability to sponsor drinks/open up their drinks fridge&lt;/li&gt; &lt;li&gt;Room for 80 people to sit on chairs&lt;/li&gt; &lt;li&gt;Lectern&lt;/li&gt; &lt;li&gt;Microphone/Sound systems&lt;/li&gt; &lt;li&gt;Cables for projector/screen to laptops&lt;/li&gt; &lt;li&gt;Provide remote controls for presentations&lt;/li&gt; &lt;li&gt;Ability to record presentations&lt;/li&gt; &lt;li&gt;Ability to have a table to put name tags on to place near the entrance&lt;/li&gt; &lt;li&gt;Close to the Central Business District (CBD)&lt;/li&gt; &lt;li&gt;Close to public transport&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;The technical meetups I organise are community-driven non-profit events, where attendance is free for participants, and so there is no monetary budget to hire out some fancy venue. Within the context of Sydney, Australia, this has meant a choice of two types of potential venue that meet the must-have conditions: pubs and offices.&lt;/p&gt; &lt;h3 id=&quot;pubs&quot;&gt;Pubs&lt;/h3&gt; &lt;p&gt;Many pubs have event rooms that they rent out, but if your meetup is held at a time when those rooms are not typically used, you can often get room fees waived if you ensure some minimum threshold of attendees. The assumption will be that a high percentage of those attendees will buy food and drinks, and you, as the organiser, can help nudge those sales along when you kick off the meetup.&lt;/p&gt; &lt;p&gt;I have heard that pubs are considered “neutral ground” for technical meetups, meaning free from the “interference” of any third-party that could potentially attempt to impose editorial control over content delivered at the meetup.&lt;/p&gt; &lt;p&gt;I guess that is true in theory, but I have personally never experienced a situation where the venue is a company office and the host insists on something like “since you’re using our office we want all the speakers to be our employees promoting our stuff”.&lt;/p&gt; &lt;p&gt;The &lt;a href=&quot;https://www.meetup.com/Ruby-On-Rails-Oceania-Sydney&quot;&gt;RORO meetup&lt;/a&gt; had a long tradition of being held at pubs in Sydney, but eventually moved to being held in offices, for various reasons including issues with pub audio visual equipment and ambient noise. See &lt;a href=&quot;https://github.com/rails-oceania/roro/issues/81&quot;&gt;this GitHub issue&lt;/a&gt; for a stellar problem write-up and solution proposal by &lt;a href=&quot;https://twitter.com/mootpointer&quot;&gt;Andrew Harvey&lt;/a&gt;, a previous RORO organiser.&lt;/p&gt; &lt;p&gt;Regardless of any shortcomings, though, a pub may be an appropriate option for your meetup, and can provide a great casual atmosphere, without you needing to worry about food or drink budgets since everyone takes care of themselves.&lt;/p&gt; &lt;h3 id=&quot;offices&quot;&gt;Offices&lt;/h3&gt; &lt;p&gt;Software developers are in the privileged position of currently being in very high demand in the job market, which has the &lt;a href=&quot;https://dictionary.cambridge.org/dictionary/english/knock-on-effect&quot;&gt;knock-on effect&lt;/a&gt; of companies being interested in hosting gatherings of developers, particularly if that company uses the technology that your meetup focuses on.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-at-pivotal.jpg&quot; alt=&quot;image roro-at-pivotal&quot; /&gt;&lt;/p&gt; &lt;p&gt;In many cases, companies will also have event-related budgets enabling them to cover food and/or drinks, and have facilities that cover a good chunk of the nice-to-have requirements above, resulting in a great experience for your attendees.&lt;/p&gt; &lt;p&gt;In return for this support, I have typically provided a spot for someone from the company to address the audience before the meetup talks start, usually to promote the company itself and any jobs they may have available, as well as sponsor shout-outs at the meetup and on social media. In rare circumstances, the host company has an employee that wants to give a community talk on home ground, so I have been happy to add them to the speaker line-up.&lt;/p&gt; &lt;p&gt;The ambient noise issues that occur in pubs are generally non-existent in offices, particularly if your meetup is in the evening, allowing everyone’s focus to stay firmly on the content you have worked so hard to procure.&lt;/p&gt; &lt;p&gt;Also, as opposed to pubs, who typically have a team of wait staff to clean up after you, this is typically not the case for offices. So, make sure you actively ask your venue contact about any post-meetup cleaning up, including disposing of any excess food and/or putting away chairs and tables. Do not be shy about delegating tasks like chair-stacking and cleaning-up to your audience, either.&lt;/p&gt; &lt;h2 id=&quot;food-and-drink&quot;&gt;Food and Drink&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/pizza.jpg&quot; alt=&quot;image pizza&quot; style=&quot;width: 50%; float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/p&gt; &lt;p&gt;If you can find a company who can provide you with a venue, food, and drinks on a constant monthly (or whatever your &lt;a href=&quot;https://www.merriam-webster.com/dictionary/cadence&quot;&gt;cadence&lt;/a&gt; is) basis, this can take a &lt;em&gt;big load&lt;/em&gt; off your organiser shoulders, and enable you to focus exclusively on procuring content. Build a strong relationship with these organisations and don’t let them go easily!&lt;/p&gt; &lt;p&gt;In the event where you need to organise some or all of the catering yourself, though, I can recommend the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Try to find another company to cover the bill. This may mean needing to pay the bill upfront yourself and getting reimbursed later by the sponsor. Don’t forget to also add that company to the list of sponsors to thank at the meetup. If you cannot foist the bill on to another organisation, and it is not something you are prepared to cover yourself, I’m pretty sure it is okay to not provide free food and/or drinks to your attendees (online meetups don’t send food deliveries to every attendee’s residence after all…).&lt;/li&gt; &lt;li&gt;Where your budget permits, try and aim for non-pizza options. Nearly every technical meetup with a food budget provides pizza as it’s the easiest option (to the point where, at least in Sydney, you could probably have your dinner covered by tech meetups most days of the week, as long as your diet can bear that much pizza). However, with that same budget, you may be surprised at what it could get you at a corporate caterer (&lt;em&gt;COVID caveat&lt;/em&gt;: who knows what the state of shared food like pizzas and buffet-style catering is going to be when in-person meetups resume, though…). &lt;img src=&quot;/assets/images/2021-01-04/buffet.jpg&quot; alt=&quot;image buffet&quot; style=&quot;float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/li&gt; &lt;li&gt;I have had mixed results from beverage delivery services. I have found they have not been as timely as food delivery; as in, drinks have arrived many hours before times I have specified, as opposed to food, which has typically arrived at expected times. So, if you are getting beverages delivered, you probably want to make sure your venue has a fridge with spare room in it (as your beers will probably not arrive cold), and someone to receive the delivery if you cannot be there yourself. If there is a &lt;a href=&quot;https://www.collinsdictionary.com/dictionary/english/bottle-shop&quot;&gt;bottle shop&lt;/a&gt; nearby to your venue, you are probably better off taking a team with you to buy direct and help bring the order back.&lt;/li&gt; &lt;li&gt;Keep inclusivity in mind when ordering food and drink: include vegetarian and vegan options for food, and if you do have alcohol at your meetup, ensure that you also have non-alcoholic options (including water!).&lt;/li&gt; &lt;li&gt;Watch out for food hogs that pile their plates insanely high, leaving less for other participants. As an organiser, sometimes you have to be an enforcer of decorum.&lt;/li&gt; &lt;li&gt;Encourage people to bring empty food containers to your events to take home any leftover food, preventing wastage (&lt;em&gt;COVID caveat&lt;/em&gt;: no idea if this will be considered a responsible idea moving forward…we will have to wait and see)&lt;/li&gt; &lt;/ul&gt; &lt;h2 id=&quot;venue-less&quot;&gt;Venue-less&lt;/h2&gt; &lt;p&gt;If you find yourself in the middle of a plague, or you just want to free your meetup from the constraints of geography, then you may want to consider hosting it on that internet thing we all know and love.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/elixir-australia.jpg&quot; alt=&quot;image elixir-australia&quot; /&gt;&lt;/p&gt; &lt;p&gt;As of this writing, &lt;a href=&quot;https://zoom.us/&quot;&gt;Zoom&lt;/a&gt; is the tool &lt;a href=&quot;https://www.merriam-webster.com/dictionary/du%20jour&quot;&gt;du jour&lt;/a&gt; for remote meetings and video conferences, and I have been utilising it to keep meetups active while in-person meetups remain infeasible. However, it is not just meetup continuance that has been achieved in the move to online-only. Significant value has been added to meetups that I fully intend on keeping around, even after we get back to meeting in-person again.&lt;/p&gt; &lt;h3 id=&quot;videos&quot;&gt;Videos&lt;/h3&gt; &lt;p&gt;Video recording talks at in-person meetups where we could access video feeds of the speaker, slides from their computer, and, most importantly, clear audio of the speaker’s voice, seemed like an insurmountable (and expensive) task. Capturing all of those feeds now is as trivial as pressing a button and recording to the cloud.&lt;/p&gt; &lt;p&gt;There have been plenty of times in the past where I have been asked by people who were unable to attend a meetup in-person whether the talks had been recorded. Every time I would have to apologise and say that we were “working on” a way to do recordings; now I just share a link to the relevant meetup &lt;a href=&quot;https://www.youtube.com/&quot;&gt;YouTube&lt;/a&gt; channel, where I upload talks after doing some rudimentary editing with &lt;a href=&quot;https://support.apple.com/en-au/guide/quicktime-player/welcome/mac&quot;&gt;QuickTime&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Being able to provide your speakers with a link to a video artefact of their talk, and having it promoted all over social media is, no doubt, a &lt;a href=&quot;https://en.wikipedia.org/wiki/Killer_feature&quot;&gt;killer feature&lt;/a&gt; for someone doing a talk at your meetup. It is too good to be lost in the move back to in-person, so it will stay.&lt;/p&gt; &lt;h3 id=&quot;all-access&quot;&gt;All-Access&lt;/h3&gt; &lt;p&gt;Regardless of how much they would like to attend your meetup in-person, there are people who are simply unable to do so for all manner of reasons, from family obligations to residing too far away from your venue. When your meetup has online access, these limitations fade into irrelevance.&lt;/p&gt; &lt;p style=&quot;margin: auto; margin-bottom: 1em; width: 85%;&quot;&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-stuck-inside.jpg&quot; alt=&quot;image roro-stuck-inside&quot; /&gt;&lt;/p&gt; &lt;p&gt;It gives me great joy now when we say hello to new attendees, and find fellow tech enthusiasts from all over the world have joined our “local meetup”. These days, though, “local” seems to only really apply to that nice community “feel” of a meetup, since any open online meetup is global by default. As long as you are awake during &lt;a href=&quot;https://en.wikipedia.org/wiki/UTC%2B10:00&quot;&gt;AEST&lt;/a&gt;/&lt;a href=&quot;https://en.wikipedia.org/wiki/UTC%2B11:00&quot;&gt;AEDT&lt;/a&gt; time zone evenings, you are welcome at any online meetup that I host, no matter where you are reading this! :smiley:&lt;/p&gt; &lt;p&gt;So, as a meetup organiser, you have the opportunity to choose how high you would like the fences around your meetup to be: as low as &lt;a href=&quot;https://en.wikipedia.org/wiki/Live_streaming&quot;&gt;live streaming&lt;/a&gt;, or as high as in-person venue-only. Gauge your audience, and the objectives of your meetup, and select a strategy that works best for your community.&lt;/p&gt; &lt;h2 id=&quot;information-source-of-truth&quot;&gt;Information Source of Truth&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-at-ca.jpg&quot; alt=&quot;image roro-at-ca&quot; /&gt;&lt;/p&gt; &lt;p&gt;With the important high-level issues of content, venues, and nourishment taken care of, we can now dive into the minutiae of detailed meetup topics, starting with information management.&lt;/p&gt; &lt;p&gt;Each technical meetup can generate a lot of information:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;A list of talk submissions and proposals, and the back and forth communications that occur as they are guided towards getting slotted in to a meetup’s talk lineup&lt;/li&gt; &lt;li&gt;A final list of speakers, their talk summaries, and the materials they used for their talks&lt;/li&gt; &lt;li&gt;Promotional and attendance sign-up pages containing information about the meetup, its date, time, place (real or virtual), and purpose&lt;/li&gt; &lt;li&gt;Promotional social media posts&lt;/li&gt; &lt;li&gt;Communication amongst organisers, and between organisers and speakers/venues&lt;/li&gt; &lt;li&gt;A meetup host slide deck&lt;/li&gt; &lt;li&gt;Post-meetup artefacts like videos&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Unfortunately, there is no one system that takes care of handling all of this information (that I know of). I use a variety of third party services to handle particular types of information; you may not need them all for your meetup, but hopefully this list will serve as some reference:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;Email&lt;/strong&gt;. Create a new meetup-specific email account with a service like &lt;a href=&quot;https://www.gmail.com&quot;&gt;Gmail&lt;/a&gt;, store its credentials somewhere safe (like a password manager), and share them with any co-organisers you have via services like &lt;a href=&quot;https://keybase.io/&quot;&gt;Keybase&lt;/a&gt;. Use this email address to create accounts for all of the other third party services you need for the meetup, and correspond with speakers and venues with it (where email is needed to do that).&lt;br /&gt; The benefits of doing this, rather than using your personal email, are the transparency and burden-sharing with your co-organisers for any external communications that may need to occur. Also, should the time come when you want to step back as an organiser and relinquish the meetup to someone else, having this account separate from you personally will make handover significantly easier. I would recommend taking the viewpoint that the meetup should exist as its own entity, and not being tied tightly to you, personally.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.meetup.com/&quot;&gt;Meetup.com&lt;/a&gt;&lt;/strong&gt;. Regardless of your opinions of this site (and some technical people have pretty strong opinions about it), I would say that as of this writing, if your audience is in the English-speaking world, and you want your meetup to be found on the internet, you are going to need a paid account here (try and get a sponsor to pay for it, if possible).&lt;br /&gt; You do not need to revolve your meetup around Meetup.com. I know of some organisers that use it just to springboard their audience to other systems, like &lt;a href=&quot;https://www.eventbrite.com/&quot;&gt;Eventbrite&lt;/a&gt;. I only use its very basic features: discoverability via search, scheduling, RSVP management, and very occasionally member emails. I want the key information about the meetup to be separate from, and accessible out of, Meetup.com (in case it ever disappears or I want to change platforms), and so I use other services for this.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;&lt;/strong&gt;. As a developer you probably use GitHub (or one of its source-control competitors) every day and are intimately familiar with its workflows. I use it as the &lt;a href=&quot;https://en.wikipedia.org/wiki/Single_source_of_truth&quot;&gt;source of truth&lt;/a&gt; for meetup information (so it doesn’t have to be Meetup.com), and for handling the life-cycle of talk submissions (using &lt;a href=&quot;https://guides.github.com/features/issues/&quot;&gt;Issues&lt;/a&gt;).&lt;br /&gt; A meetup has its own dedicated &lt;a href=&quot;https://docs.github.com/en/free-pro-team@latest/github/setting-up-and-managing-organizations-and-teams/about-organizations&quot;&gt;organisation&lt;/a&gt; and repository, and each individual meetup is represented by a folder in the repository. It contains a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;README&lt;/code&gt; file with meetup information (which gets &lt;em&gt;copied&lt;/em&gt; over to Meetup.com), as well as the host presentation materials for that meetup.&lt;br /&gt; &lt;a href=&quot;https://docs.github.com/en/free-pro-team@latest/github/building-a-strong-community/configuring-issue-templates-for-your-repository&quot;&gt;Issue templates&lt;/a&gt; are used to guide people through the creation of full-length talk, lightning talk, and talk request submissions, and outline the general definitions and expectations of them (eg for this meetup, a “full-length” talk means no more than 40 minutes long and a “lightning talk” is typically about 5 minutes etc). Every meetup has its own milestone that issues are marked against to symbolically “lock in” a talk for that meetup.&lt;br /&gt; Once a meetup has concluded, I encourage speakers to share their presentation materials publicly somewhere, then close the meetup issues, and their corresponding milestone. You can see examples of all this in the repositories for &lt;a href=&quot;https://github.com/rails-oceania/roro&quot;&gt;RORO Sydney&lt;/a&gt;, &lt;a href=&quot;https://github.com/elixirsydney/elixirsydney/&quot;&gt;Elixir Sydney&lt;/a&gt;, &lt;a href=&quot;https://github.com/graphqlsydney/graphqlsydney&quot;&gt;GraphQL Sydney&lt;/a&gt;, or &lt;a href=&quot;https://github.com/elmsydney/elmsydney&quot;&gt;Elm Sydney&lt;/a&gt;.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://twitter.com/&quot;&gt;Twitter&lt;/a&gt;&lt;/strong&gt;. The most widely used social media platform for technical people would seem to currently be Twitter. So, each of the meetups I organise has its own Twitter account, used for meetup and speaker promotions, announcements, and requests for talks. I try and aim for a promotional tweet with speaker and talk names at the beginning of the week the meetup is scheduled to occur.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.dropbox.com/&quot;&gt;Dropbox&lt;/a&gt;&lt;/strong&gt;. Used essentially as an asset host for media contained in the meetup host presentation slide deck (so, not like an asset host would be used if images were being serving on a web page that gets lots of hits).&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://slack.com/&quot;&gt;Slack&lt;/a&gt;&lt;/strong&gt;. There are official Slack workspaces for the programming languages the meetups I organise cover, and so I promote meetups in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#australia&lt;/code&gt; channels there, as well as in other programming community workspace channels where I am relatively sure it will not be seen as spam.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://zoom.us/&quot;&gt;Zoom&lt;/a&gt;&lt;/strong&gt;. Covered in detail above, but definitely get a paid Pro account if you are able to.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://www.youtube.com/&quot;&gt;YouTube&lt;/a&gt;&lt;/strong&gt;. As you may expect, a meetup’s YouTube channel is the place to upload videos to share with and promote to the world (given the large size of video files, I also consider the meetup YouTube channel to be the source of truth for meetup videos). Make sure that your speakers know in advance that there is the intention of putting videos of their talk up on the meetup YouTube channel.&lt;br /&gt; Also, be understanding of times when you may be asked to either &lt;em&gt;not&lt;/em&gt; upload a video, or take one down. Speakers may have let information slip out that they didn’t mean to (or regret in hindsight), or maybe they think the talk just did not go well enough to want it on their permanent record. Regardless of the reason, remove the video from the meetup channel. Meetup organisers are meant to spread community cheer and knowledge, not role-play as investigative journalists busting suspects on tape.&lt;/li&gt; &lt;/ul&gt; &lt;h2 id=&quot;meetup-host-slide-deck&quot;&gt;Meetup Host Slide Deck&lt;/h2&gt; &lt;p&gt;Assuming that your meetup will have at least &lt;em&gt;one&lt;/em&gt; talk, now that you have procured your most important content, let’s examine the creation and maintenance of content that can &lt;a href=&quot;https://en.wiktionary.org/wiki/bookend&quot;&gt;bookend&lt;/a&gt; it.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-rob.jpg&quot; alt=&quot;image roro-rob&quot; /&gt;&lt;/p&gt; &lt;p&gt;Although certainly not needed to run a successful meetup, I like to have a meetup host slide deck to be point of reference for the event itself.&lt;/p&gt; &lt;p&gt;I typically include slides covering the following areas:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Welcome participants to the meetup&lt;/li&gt; &lt;li&gt;Housekeeping&lt;/li&gt; &lt;li&gt;Summarise the meetup content&lt;/li&gt; &lt;li&gt;Inform participants if any particular behaviour is expected of them (eg your meetup may have a &lt;a href=&quot;https://en.wikipedia.org/wiki/Code_of_conduct&quot;&gt;Code of Conduct&lt;/a&gt;)&lt;/li&gt; &lt;li&gt;Thank sponsors (if any)&lt;/li&gt; &lt;li&gt;Introduce and hype-up the presenters and their talks (I like to have the presentation name, speaker name and social media handle, and a photo of the speaker – all as large as possible; these slides can then double as video &lt;a href=&quot;https://en.wikipedia.org/wiki/Thumbnail&quot;&gt;thumbnails&lt;/a&gt;).&lt;/li&gt; &lt;li&gt;Prompt for people to submit talks for the next meetup, and provide details of where they should submit proposals (basically, a summarised version of the &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/speak-at-meetups/&quot;&gt;Speak at a Meetup&lt;/a&gt;&lt;/em&gt; post)&lt;/li&gt; &lt;li&gt;Promote the social media accounts of the presenters and the meetup itself&lt;/li&gt; &lt;li&gt;Prompt discussion of community news and events (see if you can trade meetup &lt;a href=&quot;https://dictionary.cambridge.org/dictionary/english/shout-out&quot;&gt;shout-outs&lt;/a&gt; with others in your ecosystem)&lt;/li&gt; &lt;li&gt;Prompt those who have jobs to promote, and those who wish to promote themselves for jobs, to give their pitches&lt;/li&gt; &lt;li&gt;Promote any other relevant community communication media (eg chat channels where post-meetup conversations can continue etc)&lt;/li&gt; &lt;li&gt;Inform the date and location of the next meetup&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;This might seem like a long list, but within the context of running the meetup, some of these slides might only be up on screen for a matter of seconds. The order that these slides are displayed is also up to you: for example, you may want to have your jobs slide before the talks, so that any recruiters present can say their piece, and then feel free to leave if they do not want to sit through any technical content.&lt;/p&gt; &lt;p&gt;Ultimately, though, no one comes to a meetup for the host deck, so I have found it best to attempt to deliver all necessary information as briskly as possible, so that we can make way for speakers.&lt;/p&gt; &lt;h3 id=&quot;slideware&quot;&gt;Slideware&lt;/h3&gt; &lt;p&gt;When it comes to &lt;a href=&quot;https://en.wikipedia.org/wiki/Slideware&quot;&gt;slideware&lt;/a&gt; used to create the host deck, I tend to optimise for:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;-based slide creation&lt;/li&gt; &lt;li&gt;Ease (and correctness) of export to &lt;a href=&quot;https://en.wikipedia.org/wiki/PDF&quot;&gt;PDF&lt;/a&gt; functionality&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;We are not creating the &lt;a href=&quot;https://en.wikipedia.org/wiki/An_Inconvenient_Truth#The_slide_show&quot;&gt;slide deck for &lt;em&gt;An Inconvenient Truth&lt;/em&gt;&lt;/a&gt; here, so software like &lt;a href=&quot;https://www.apple.com/keynote/&quot;&gt;Keynote&lt;/a&gt; or &lt;a href=&quot;https://www.microsoft.com/en-us/microsoft-365/powerpoint&quot;&gt;PowerPoint&lt;/a&gt; does not feel like the right tool for this particular job (though if you have a particular affinity to either of these, by all means please use them; I still use them for other types of presentations, so there is no slideware elitism here).&lt;/p&gt; &lt;p&gt;Being a developer, I &lt;em&gt;do&lt;/em&gt; like plain text that I can edit in a &lt;a href=&quot;https://www.vim.org/&quot;&gt;plain text editor&lt;/a&gt;. If the deck is a simple text file, it can easily be put under &lt;a href=&quot;https://en.wikipedia.org/wiki/Version_control&quot;&gt;version control&lt;/a&gt; with &lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt; to enable collaboration with others, and then readily shared online.&lt;/p&gt; &lt;p&gt;I have previously used &lt;a href=&quot;https://gitpitch.com/&quot;&gt;GitPitch&lt;/a&gt; and &lt;a href=&quot;https://github.com/jxnblk/mdx-deck&quot;&gt;MDX Deck&lt;/a&gt; to do this (and they are both good!), but my current slideware of choice is &lt;a href=&quot;https://www.deckset.com/&quot;&gt;Deckset&lt;/a&gt;. It is not free (and currently only for Mac OS), but I have found the value I get out of it justifies the license cost (though I do hope more themes are added in the future…).&lt;/p&gt; &lt;p style=&quot;margin: auto; margin-bottom: 1em; width: 80%;&quot;&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-next-exercism.jpg&quot; alt=&quot;image roro-next-exercism&quot; /&gt;&lt;/p&gt; &lt;p&gt;Deckset’s export to PDF functionality is great, and I find that the PDF slides &lt;em&gt;actually&lt;/em&gt; reflect how the slides look when viewed in the application. In my experience, this is not always the case with other applications, which is why I &lt;em&gt;always&lt;/em&gt; export a PDF copy of the deck and &lt;a href=&quot;https://git-scm.com/docs/git-commit&quot;&gt;commit&lt;/a&gt; it along with the original Markdown file.&lt;/p&gt; &lt;p&gt;The PDF will always be smaller than its equivalent Keynote or Powerpoint file, and does not really bloat the repository size. Hosting image assets used in the slide deck outside of the repository also helps in keeping the repository size down.&lt;/p&gt; &lt;h2 id=&quot;exception-handling&quot;&gt;Exception Handling&lt;/h2&gt; &lt;p&gt;Regardless of whether you have a fantastic community with wonderful people, as an organiser, consider giving at least give some thought to potential worst-case scenarios that could occur at your meetup, for your community’s sake.&lt;/p&gt; &lt;p&gt;If desired, enact some kind of formal authoritative framework, like a code of conduct, that explicitly outlines expectations of what actions should be taken when things go wrong, so it takes the guesswork out of what to do in undesirable situations, enabling you to focus on just taking action.&lt;/p&gt; &lt;h3 id=&quot;audience-issues&quot;&gt;Audience Issues&lt;/h3&gt; &lt;p&gt;You want speakers to not just have a great speaking experience at your meetup, but they should feel happy to come back and deliver more content to your community. If there are people in the audience who are disrupting a speaker, then you are well within your rights as an organiser to caution them, or ask them to leave.&lt;/p&gt; &lt;p&gt;Some speakers are very confident in their personality and speaking skills, and sometimes even actively invite audience &lt;a href=&quot;https://en.wikipedia.org/wiki/Heckler&quot;&gt;heckling&lt;/a&gt; for their own amusement. Regardless of a speaker’s ability to handle this, I personally discourage it because of the negative message it sends to people in the audience who might be considering giving a talk, but are not experienced or confident speakers: you might be heckled and no one will stop it (leading to your embarrassment in front of everyone).&lt;/p&gt; &lt;p&gt;I think that everyone should be able to feel undaunted about giving a talk to their peers, knowing that they have the support of the room. The benefits of a no-heckling policy far outweigh any charges of being a &lt;a href=&quot;https://www.merriam-webster.com/dictionary/killjoy&quot;&gt;killjoy&lt;/a&gt;.&lt;/p&gt; &lt;h3 id=&quot;speaker-issues&quot;&gt;Speaker Issues&lt;/h3&gt; &lt;p&gt;It is extremely difficult, if not impossible, to determine the quality of someone’s content in advance of a meetup unless it is actually shared with you ahead of time (sometimes, speaker preparation can even last until the minute they get up on stage).&lt;/p&gt; &lt;p&gt;In principle, I am fine with this for any new speaker, or speakers who have successfully delivered talks before. Anyone who has willingly taken on the Big Ask to provide content is already a hero in my eyes, and has my assumption of &lt;a href=&quot;https://www.merriam-webster.com/dictionary/good%20faith&quot;&gt;good faith&lt;/a&gt;; I am not prepared to enforce conditions like vetting all talks, even if I had a mythical pipeline of eager speakers. Finding content is hard enough, and the less obstacles to getting that content delivered at a meetup, the better.&lt;/p&gt; &lt;p&gt;So, unless you get a request for assistance, the first time you will hear a speaker’s talk is likely to be at the meetup itself. For the meetups I organise, this has not been an issue, aside from the very rare cases when it is.&lt;/p&gt; &lt;p&gt;Specifics are not relevant, and “bad” is subjective. But, ultimately, if you think that content delivered by a speaker at a meetup you organise (or by &lt;em&gt;anyone&lt;/em&gt; who has been given the floor to address the audience, including those pitching jobs) has had a negative effect on your audience, could reflect badly on you as the organiser, or your ability to get an audience to a future meetup, then I think you are within your rights to either reject further submissions from them, or at least insist on a dry run of any talk prior to being accepted, where you can give feedback in the same way you would if they had actively requested it of you. If the content delivered is just patently offensive or inappropriate, you have no obligation to let a speaker finish their talk.&lt;/p&gt; &lt;p&gt;For the record, I have never had to outright reject someone’s future submissions nor eject a speaker before they finished their talk (Sydney tech communities are really great!), but I would if the situation necessitated it.&lt;/p&gt; &lt;h3 id=&quot;edge-cases&quot;&gt;Edge Cases&lt;/h3&gt; &lt;p&gt;There are some problems I have yet to encounter while organising a meetup, that I hope I will never have to, but still occupy a slot in my list of worries.&lt;/p&gt; &lt;p&gt;Specifically, what if someone chokes on food provided at the meetup, or slips on something and falls, and an ambulance has to be called? Or, what if someone drinks too much and decides to get violent with people or property, and police have to be called? Is anyone liable in this situation? If so, who? The venue? Me, personally? Does the meetup itself have coverage under the venue’s insurance policy? I am sure that the answer to this can vary drastically by jurisdiction and country, but I am wondering if there are any general rules of thumb to follow here, or maybe if I am worrying too much.&lt;/p&gt; &lt;p&gt;If you are knowledgeable about these kinds of issues, please reach out to me privately or share your experience or expertise in a comment. It would be great to learn more about this while in-person meetups are on hiatus.&lt;/p&gt; &lt;h2 id=&quot;succession-planning&quot;&gt;Succession Planning&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-mat-gael.jpg&quot; alt=&quot;image roro-mat-gael&quot; style=&quot;width: 50%; float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/p&gt; &lt;p&gt;Engagement with any kind of work, like any good story, will have a beginning, middle, and end. Organising a meetup is no different: there will come a time where you will need to step back and divest yourself of organisational involvement in your meetup.&lt;/p&gt; &lt;p&gt;Assuming that your meetup has been created as its own entity, and is more than a &lt;a href=&quot;https://en.wikipedia.org/wiki/Cult_of_personality&quot;&gt;cult of personality&lt;/a&gt; of your own making, you will likely &lt;em&gt;want&lt;/em&gt; the meetup to outlast your involvement in it, if for no other reason than to continue your involvement as just another attendee.&lt;/p&gt; &lt;p&gt;I think that the best ways to ensure a smooth transition of responsibility is to have:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;strong&gt;Co-organisers&lt;/strong&gt;. The higher your &lt;a href=&quot;https://en.wikipedia.org/wiki/Bus_factor&quot;&gt;bus factor&lt;/a&gt;, the easier handover will be (and the ability to take holidays!). There is probably an upper limit that, if exceeded, results in a &lt;a href=&quot;https://idioms.thefreedictionary.com/too+many+chefs+in+the+kitchen&quot;&gt;too many chefs&lt;/a&gt;-style situation, but I have not hit that yet. Having said that, the biggest meetup organisational team I have worked on has been three people, which has been a fine number.&lt;/li&gt; &lt;li&gt;&lt;strong&gt;Long Goodbyes&lt;/strong&gt;. If you manage to recruit another organiser because you plan to step down, try not hand them the keys to the meetup, wish them the best for the next one, and then disappear. I would recommend having them &lt;a href=&quot;https://www.macmillandictionary.com/dictionary/british/shadow_2&quot;&gt;shadow&lt;/a&gt; you for a meetup or two, then take an organiser back seat for the next one or two as your successor takes the lead, and &lt;em&gt;then&lt;/em&gt; fade away into the night.&lt;/li&gt; &lt;/ul&gt; &lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt; &lt;p&gt;I think you now know everything that I do about organising meetups, save for perhaps some intuitive on-the-fly problem solving skills you naturally develop after having actually organised and run a few meetups (and are impossible for me to enumerate coherently in this post).&lt;/p&gt; &lt;p&gt;I hope you are able to contribute to creating the kinds of communities you would like to see exist and thrive.&lt;/p&gt; &lt;p&gt;My thanks go out to you for reading this all the way to the end, and also to all the previous and current organisers of meetups I am currently involved with, or have been previously involved with, whose shoulders I stand on:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/Ruby-On-Rails-Oceania-Sydney&quot;&gt;Ruby on Rails Oceania Sydney (RORO)&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/elixir-sydney/&quot;&gt;Elixir Sydney&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/GraphQL-Sydney/&quot;&gt;GraphQL Sydney&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/Sydney-Elm-Meetup/&quot;&gt;Elm Sydney&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Thanks also go to the organisers of other particular meetups I attend, and have been inspired by, or flagrantly stolen ideas from (no surprises that they are also web development-focused groups):&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/SydCSS/&quot;&gt;SydCSS&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.sydjs.com/&quot;&gt;SydJS&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.meetup.com/React-Sydney/&quot;&gt;React Sydney&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;There are so many differing opinions about the ways to run meetups, that I have no doubt that there are ways I can improve the way I run mine. So, if you have any feedback, suggestions, or ideas, by all means please leave a comment or reach out to me directly.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2021-01-04/roro-at-airtasker.jpg&quot; alt=&quot;image roro-at-airtasker&quot; /&gt;&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="meetups"/><category term="public-speaking"/><summary type="html">Looking to take your love of meetups to the next level? Try organising!</summary></entry><entry><title type="html">Oi! Kochi: Japanese Feature Phone-driven Development</title><link href="https://www.paulfioravanti.com/blog/oi-kochi/" rel="alternate" type="text/html" title="Oi! Kochi: Japanese Feature Phone-driven Development"/><published>2021-01-03T21:05:00+11:00</published><updated>2021-01-03T21:05:00+11:00</updated><id>https://www.paulfioravanti.com/blog/oi-kochi</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/oi-kochi/">&lt;p style=&quot;margin-bottom: 1em;&quot;&gt;&lt;img src=&quot;/assets/images/2021-01-03/ryoma-reading-oi-kochi.gif&quot; alt=&quot;img ryoma-reading-oi-kochi&quot; style=&quot;width: 12%; display: inline;&quot; /&gt; &lt;img src=&quot;/assets/images/2021-01-03/oi-kochi-banner.gif&quot; alt=&quot;img oi-kochi-banner&quot; style=&quot;width: 60%; display: inline;&quot; /&gt; &lt;img src=&quot;/assets/images/2021-01-03/kochi-map.gif&quot; alt=&quot;img kochi-map&quot; style=&quot;width: 25%; display: inline;&quot; /&gt;&lt;/p&gt; &lt;p&gt;Back in the early 2000s, when I was on the &lt;a href=&quot;http://jetprogramme.org/en/&quot;&gt;JET Programme&lt;/a&gt; in &lt;a href=&quot;https://en.wikipedia.org/wiki/K%C5%8Dchi_Prefecture&quot;&gt;Kochi Prefecture&lt;/a&gt;, I was in charge of an English/Japanese bilingual community newsletter called &lt;em&gt;Oi! Kochi&lt;/em&gt; (オーイ！&lt;ruby&gt;高知&lt;rt&gt;こうち&lt;/rt&gt;&lt;/ruby&gt;).&lt;/p&gt; &lt;div style=&quot;display: block; text-align: center;&quot;&gt; &lt;figure style=&quot;float: right; display: inline-block; margin: 1em; width: 60%;&quot;&gt; &lt;img src=&quot;/assets/images/2021-01-03/oi-kochi-md.jpg&quot; alt=&quot;Oi! Kochi Minidisc&quot; /&gt; &lt;figcaption style=&quot;text-align: center;&quot;&gt; I made sure to use only the &lt;a href=&quot;https://en.wikipedia.org/wiki/MiniDisc&quot;&gt;latest technology&lt;/a&gt; when recording interviews. &lt;/figcaption&gt; &lt;/figure&gt; &lt;/div&gt; &lt;p&gt;Since my position was &lt;a href=&quot;http://jetprogramme.org/en/positions/&quot;&gt;Coordinator of International Relations&lt;/a&gt;, my mere involvement with the newsletter automatically fulfilled its “international relations” objective, giving me pretty much free reign over what content appeared in it.&lt;/p&gt; &lt;p&gt;I did not fancy myself as a journalist at all, and had no idea what I was doing (my lack of logo design skills may have clued you in on that, not that current me would be able to do any better…; for those curious, yes, that is &lt;a href=&quot;https://en.wikipedia.org/wiki/Sakamoto_Ry%C5%8Dma&quot;&gt;Sakamoto Ryōma&lt;/a&gt; on the left), but it was great fun being able to &lt;em&gt;act&lt;/em&gt; as a reporter, editor, and translator to produce this thing that was being read by others.&lt;/p&gt; &lt;p&gt;After the third issue I had been involved with was released, I was informed that due to departmental budget cuts, &lt;em&gt;Oi! Kochi&lt;/em&gt; no longer had a print budget, and hence it would be the final issue.&lt;/p&gt; &lt;p&gt;Not wanting my run to end so soon, I thought that this might be a good opportunity to attempt to put &lt;em&gt;Oi! Kochi&lt;/em&gt; not just on the web, but attempt to give it a space within the &lt;a href=&quot;https://en.wikipedia.org/wiki/Closed_platform&quot;&gt;walled garden&lt;/a&gt; that was Japan’s fledgling mobile internet.&lt;/p&gt; &lt;div style=&quot;display: block; text-align: center;&quot;&gt; &lt;figure style=&quot;float: left; display: inline-block; margin: 0; margin-right: 1em; width: 50%;&quot;&gt; &lt;img src=&quot;/assets/images/2021-01-03/Softbank911sh-01.jpg&quot; alt=&quot;A Softbank911sh-01 feature phone.&quot; /&gt; &lt;figcaption style=&quot;text-align: center;&quot;&gt; Photo from &lt;a href=&quot;https://upload.wikimedia.org/wikipedia/ja/3/31/Softbank911sh-01.jpg&quot;&gt;Wikimedia&lt;/a&gt;. &lt;/figcaption&gt; &lt;/figure&gt; &lt;/div&gt; &lt;p&gt;So, without knowing anything about code whatsoever, I attempted to make some &lt;a href=&quot;https://en.wikipedia.org/wiki/HTML&quot;&gt;HTML&lt;/a&gt; web pages. Japan was predominantly using clamshell-style &lt;a href=&quot;https://en.wikipedia.org/wiki/Feature_phone#Japan&quot;&gt;feature phones&lt;/a&gt;, and sites developed for them used &lt;a href=&quot;https://en.wikipedia.org/wiki/C-HTML&quot;&gt;C-HTML&lt;/a&gt;, so that is what I used for the mobile pages.&lt;/p&gt; &lt;p&gt;I recall having eventually put the pages &lt;em&gt;somewhere&lt;/em&gt; on the internet, but I do not think the Kochi Prefectural Government gave me any space on their servers (not that I understood what a server was back then…), but probably used some kind of free service and shared the link with whomever would humour me. Those pages are, unsurprisingly, long gone.&lt;/p&gt; &lt;p&gt;However, I did still have the codebases lying around, and figured it would be nice to see if they could be deployed back out on the internet, so the content does not stay lost. So, here they are!&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://www.paulfioravanti.com/oi-kochi/web/&quot;&gt;Oi! Kochi Web Pages&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.paulfioravanti.com/oi-kochi/mobile/&quot;&gt;Oi! Kochi Mobile Pages&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Revel in their &lt;a href=&quot;https://en.wikipedia.org/wiki/Web_2.0#Web_1.0&quot;&gt;Web 1.0&lt;/a&gt;-ness!&lt;/p&gt; &lt;p&gt;I have also made the codebases, and scans of the print versions of the newsletter, available in the &lt;a href=&quot;https://github.com/paulfioravanti/oi-kochi&quot;&gt;Oi! Kochi GitHub repository&lt;/a&gt;. If you have the courage to actually look at the code, remember, it was written a long time ago…&lt;/p&gt; &lt;h2 id=&quot;viewing-pages&quot;&gt;Viewing Pages&lt;/h2&gt; &lt;div style=&quot;display: block; text-align: center;&quot;&gt; &lt;figure style=&quot;float: right; display: inline-block; margin: 1em; width: 40%;&quot;&gt; &lt;img src=&quot;/assets/images/2021-01-03/paul-on-feature-phone.jpg&quot; alt=&quot;Paul on a feature phone&quot; /&gt; &lt;figcaption style=&quot;text-align: center;&quot;&gt; A younger me on a feature phone, with mandatory extra-long straps, which was &lt;a href=&quot;https://www.youtube.com/watch?v=a6Dc7W6jXCo&quot;&gt;the style at the time&lt;/a&gt;. &lt;/figcaption&gt; &lt;/figure&gt; &lt;/div&gt; &lt;p&gt;For the most period-accurate browsing experience (simulating how the pages would have looked on my &lt;a href=&quot;https://en.wikipedia.org/wiki/Au_(mobile_phone_company)&quot;&gt;AU by KDDI&lt;/a&gt; phone), I would have recommended using an emulator that replicates the old Japanese feature phones, the closest of which I’ve ever found is viewing the pages using the &lt;a href=&quot;https://www.mozilla.org/en-US/firefox/new/&quot;&gt;Firefox&lt;/a&gt; browser, along with the &lt;a href=&quot;http://firemobilesimulator.org/&quot;&gt;FireMobileSimulator&lt;/a&gt; add-on.&lt;/p&gt; &lt;p&gt;Unfortunately, FireMobileSimulator is now dead and buried, with no future releases planned, and it does not work on current versions of Firefox. There are also no alternatives that I could find.&lt;/p&gt; &lt;p&gt;The only consolation is that you are able to trigger &lt;a href=&quot;https://en.wikipedia.org/wiki/Access_key&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accesskey&lt;/code&gt; attributes&lt;/a&gt; for links (ie for a link with text “&lt;strong&gt;1. English&lt;/strong&gt;”, you could press the :one: number key on the feature phone to directly “click” on that link) in Firefox and Chrome. See &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey&quot;&gt;Mozilla’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accesskey&lt;/code&gt; page&lt;/a&gt; for the key shortcuts for your platform and browser.&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="jet-programme"/><category term="html"/><category term="kochi"/><category term="japan"/><category term="mobile-phones"/><category term="feature-phones"/><category term="chtml"/><category term="i-mode"/><category term="日本"/><category term="高知県"/><category term="ガラケー"/><summary type="html">During Japan&apos;s mobile web infancy, I wanted my little community newsletter to ride the wave of the future.</summary></entry><entry><title type="html">Speak at a Meetup</title><link href="https://www.paulfioravanti.com/blog/speak-at-meetups/" rel="alternate" type="text/html" title="Speak at a Meetup"/><published>2020-12-06T19:05:00+11:00</published><updated>2020-12-06T19:05:00+11:00</updated><id>https://www.paulfioravanti.com/blog/speak-at-meetups</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/speak-at-meetups/">&lt;p&gt;Meetups are great! The best ones provide a sense of community where the curious and the enthusiastic can engage together to create a great experience that draws people in and keeps them coming back.&lt;/p&gt; &lt;p&gt;Since my primary experience with meetups are those related to programming and technology (as of this writing I organise the &lt;a href=&quot;https://www.meetup.com/elixir-sydney&quot;&gt;Elixir Sydney&lt;/a&gt;, &lt;a href=&quot;https://www.meetup.com/GraphQL-Sydney/&quot;&gt;GraphQL Sydney&lt;/a&gt;, and &lt;a href=&quot;https://www.meetup.com/Sydney-Elm-Meetup/&quot;&gt;Elm Sydney&lt;/a&gt; meetups, and have previously organised the &lt;a href=&quot;https://www.meetup.com/Ruby-On-Rails-Oceania-Sydney/&quot;&gt;Ruby on Rails Oceania Sydney&lt;/a&gt; meetup), this post will focus on meetups where there is typically a roster of talks on software/technical topics, and a good deal of socialising.&lt;/p&gt; &lt;h2 id=&quot;why-give-a-talk&quot;&gt;Why Give a Talk?&lt;/h2&gt; &lt;p&gt;If you are a developer, at any stage of your career or training, you should &lt;em&gt;strongly consider&lt;/em&gt; finding a local meetup group (on &lt;a href=&quot;https://www.meetup.com/&quot;&gt;Meetup&lt;/a&gt; most likely), and do a talk on something you have worked on, or have learned.&lt;/p&gt; &lt;h3 id=&quot;develop-a-new-skill&quot;&gt;Develop a New Skill&lt;/h3&gt; &lt;p&gt;Presenting at a meetup is a win/win situation.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-12-06/elixir-sydney.jpg&quot; alt=&quot;Elixir Sydney Nerves talk&quot; /&gt;&lt;/p&gt; &lt;p&gt;You, the speaker, get to practise public speaking, a skill that may not be exercised much in your day to day activities, and your audience gets to leverage your knowledge to learn new things that can potentially help them in their own activities.&lt;/p&gt; &lt;p&gt;You may be apprehensive toward public speaking, particularly if you have previously had negative experiences with it.&lt;/p&gt; &lt;p&gt;However, I posit that since technical meetups are typically attended by people who lean more towards identifying as introverts than extroverts, and hence viscerally understand the courage that it takes to deliver a talk in front of your peers, you will find them to be a sympathetic audience who &lt;em&gt;want&lt;/em&gt; you to succeed. Pre-talk nerves will never go away, but they can feel less debilitating when you feel that your audience has your back.&lt;/p&gt; &lt;p&gt;Also, if you have ever thought that you would like to present at a big conference, then a meetup audience is a great start point to get practice and hone your skills.&lt;/p&gt; &lt;h3 id=&quot;add-to-your-portfolio&quot;&gt;Add to your Portfolio&lt;/h3&gt; &lt;p&gt;Doing a meetup talk provides takeaway artefacts of &lt;a href=&quot;https://www.thebalancecareers.com/what-are-soft-skills-2060852&quot;&gt;“soft skills”&lt;/a&gt;, which are becoming ever more important in development teams (which makes me feel they should be re-branded as “essential skills”).&lt;/p&gt; &lt;p&gt;You can take your talk/slide deck and essentially open source it on a wide variety of platforms, much like you would with your open source code (eg &lt;a href=&quot;https://speakerdeck.com/&quot;&gt;Speaker Deck&lt;/a&gt;, &lt;a href=&quot;https://www.slideshare.net/&quot;&gt;SlideShare&lt;/a&gt;, or even &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt; if your presentation is written in &lt;a href=&quot;https://daringfireball.net/projects/markdown/syntax&quot;&gt;Markdown&lt;/a&gt;).&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-12-06/elixir-australia.jpg&quot; alt=&quot;Elixir Australia Online&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Coronavirus_disease_2019&quot;&gt;COVID-19&lt;/a&gt; has pushed many meetups out of &lt;a href=&quot;https://en.wiktionary.org/wiki/meatspace&quot;&gt;meatspace&lt;/a&gt; and into online platforms like &lt;a href=&quot;https://zoom.us/&quot;&gt;Zoom&lt;/a&gt; (hopefully only temporarily…), allowing your talk to be recorded easily. Check and see if your target meetup records talks, and hopefully they have a space to publish content, like a &lt;a href=&quot;https://www.youtube.com/&quot;&gt;YouTube&lt;/a&gt; channel.&lt;/p&gt; &lt;p&gt;These artefacts, in their various forms, can provide a great addition to your resume, or maybe even ammunition you can take in to your next pay-rise negotiations.&lt;/p&gt; &lt;h3 id=&quot;show-something-off&quot;&gt;Show Something Off&lt;/h3&gt; &lt;p&gt;Meetups provide you with a captive audience to directly promote and show off something awesome you have built lately, or maybe pose a question or problems that you’d like input and/or discussion around.&lt;/p&gt; &lt;p&gt;Discussion about any thought-provoking issues have often continued after the meetup ends, and &lt;em&gt;you&lt;/em&gt; get to take the credit for being the catalyst!&lt;/p&gt; &lt;h3 id=&quot;practise-demoing&quot;&gt;Practise Demoing&lt;/h3&gt; &lt;p&gt;If you are up to the challenge, doing a talk can be a catalyst to practise demoing something in front of an audience, which is significantly different to just showing someone else what is currently on your screen.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-12-06/roro-sonic-pi.jpg&quot; alt=&quot;RORO Sonic Pi&quot; /&gt;&lt;/p&gt; &lt;p&gt;Being able to effectively demo, and recover from any issues that occur during them (and unless you have adequately appeased the &lt;a href=&quot;http://www2.rdrop.com/~paulmck/DemoGods/&quot;&gt;demo gods&lt;/a&gt;, they will happen), is a highly sought after developer (and &lt;a href=&quot;https://en.wikipedia.org/wiki/Presales&quot;&gt;presales&lt;/a&gt;) superpower.&lt;/p&gt; &lt;h3 id=&quot;become-an-expert&quot;&gt;Become an Expert&lt;/h3&gt; &lt;p&gt;Doing a talk can have the pleasant side effect of making you known in your community as an expert on something, even if don’t consider yourself one!&lt;/p&gt; &lt;p&gt;If you teach someone something that they did not know before, then, to them, you are an expert.&lt;/p&gt; &lt;p&gt;Furthermore, the questions that you get from others about what you know can lead down extra knowledge-gathering paths to further refine your abilities, to the point where even &lt;em&gt;you&lt;/em&gt; must acknowledge your own expertise. Not a bad self-fulfilling prophecy!&lt;/p&gt; &lt;h3 id=&quot;your-perspective-is-unique&quot;&gt;Your Perspective is Unique&lt;/h3&gt; &lt;p&gt;Even if you think the content of your talk &lt;em&gt;must&lt;/em&gt; have been covered in a previous meetup, or is just too obvious to talk about, your perspective on it (and the way you present it) is unique to you, so never let that stop you from giving a talk.&lt;/p&gt; &lt;p&gt;People love to hear presentations about things they already know because it makes them feel smart about understanding something worth presenting.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-12-06/roro-jora.jpg&quot; alt=&quot;RORO Jora&quot; /&gt;&lt;/p&gt; &lt;p&gt;If you are the one presenting it, you unconsciously join the league of experts about that subject in your audience’s mind, and I will bet anything that even those experienced in the topic you present will learn &lt;em&gt;something&lt;/em&gt; from your take.&lt;/p&gt; &lt;h3 id=&quot;land-a-job&quot;&gt;Land a Job&lt;/h3&gt; &lt;p&gt;I have friends who have received offers to go and interview at organisations, and consequently get jobs there, based solely on having done a talk at a meetup, and impressing their future peers in the audience.&lt;/p&gt; &lt;p&gt;This scenario obviously does not play out at every meetup, but it goes to show you that you never know who could be in your audience, and what opportunities sharing your knowledge could provide you.&lt;/p&gt; &lt;p&gt;This “making your own luck” scenario is one of the primary reasons I like to specifically appeal to junior developers to do meetup talks. A successful talk delivered to your peers (and they are your peers), can help your job application shine a bit brighter from the pack :sparkles:&lt;/p&gt; &lt;h2 id=&quot;leverage-organisers&quot;&gt;Leverage Organisers&lt;/h2&gt; &lt;p&gt;Speaking from experience, meetup organisers are &lt;em&gt;always&lt;/em&gt; hungry for new content. Finding talks is &lt;em&gt;easily&lt;/em&gt; the most difficult and time-consuming part of technical meetup organisation.&lt;/p&gt; &lt;p&gt;If you are willing to freely spend time and effort creating content for a meetup, then meetup organisers will very likely be happy to act as a sounding board for your talk content and provide feedback before you present (I certainly do, with pleasure!).&lt;/p&gt; &lt;p&gt;They will have seen a lot of talks, have likely delivered some themselves, and will be invested in making your talk come out great. Good talks make for good meetups, which then attracts more good talks in a virtuous circle, so your success is their success!&lt;/p&gt; &lt;h2 id=&quot;leap-of-faith&quot;&gt;Leap of Faith&lt;/h2&gt; &lt;p&gt;Deciding to take on delivering a technical talk is a hard first step to take, but remember, it is &lt;em&gt;good&lt;/em&gt; to throw yourself out of your comfort zone and try something different.&lt;/p&gt; &lt;p&gt;Who knows, you might even end up liking it and wanting to do more, which could lead to all manner of new doors opening for you. Take that first step and find out!&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-12-06/paul-hello.jpg&quot; alt=&quot;Paul Hello&quot; /&gt;&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="meetups"/><category term="public-speaking"/><summary type="html">Worked on a project or learned something new that others might not know about? Share your knowledge with your peers at a local meetup!</summary></entry><entry><title type="html">Playing in Plaid’s Sandbox</title><link href="https://www.paulfioravanti.com/blog/plaid-sandbox-api/" rel="alternate" type="text/html" title="Playing in Plaid’s Sandbox"/><published>2020-11-29T18:15:00+11:00</published><updated>2020-11-29T18:15:00+11:00</updated><id>https://www.paulfioravanti.com/blog/plaid-sandbox-api</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/plaid-sandbox-api/">&lt;p&gt;I had a software client who required an integration to &lt;a href=&quot;https://plaid.com/&quot;&gt;Plaid&lt;/a&gt;, a financial technology company specializing in bank login verification.&lt;/p&gt; &lt;p&gt;If you are in a similar position, and are attempting to get started with &lt;a href=&quot;https://plaid.com/docs/api/&quot;&gt;Plaid’s Application Programming Interface (API)&lt;/a&gt;, then this post may be of assistance to you in setting up and using their &lt;a href=&quot;https://github.com/plaid/plaid-postman&quot;&gt;Plaid Postman Collection&lt;/a&gt; with &lt;a href=&quot;https://www.postman.com/&quot;&gt;Postman&lt;/a&gt; (if not, then this post will probably not make that much sense, and I will not be offended if you bail out now).&lt;/p&gt; &lt;p&gt;I found that even with the &lt;a href=&quot;https://plaid.com/docs/&quot;&gt;Plaid documentation&lt;/a&gt;, it still took me quite a bit of time to figure out how to get valid responses from the &lt;a href=&quot;https://plaid.com/docs/sandbox/&quot;&gt;Plaid Sandbox&lt;/a&gt;. I originally submitted the content of this post as a &lt;a href=&quot;https://github.com/plaid/plaid-postman/pull/10&quot;&gt;documentation pull request&lt;/a&gt;, but it seems that Plaid was not interested, and so I figure it can live here on my blog.&lt;/p&gt; &lt;p&gt;The following is meant to be read &lt;em&gt;after&lt;/em&gt; you have completed the steps in the &lt;a href=&quot;https://github.com/plaid/plaid-postman/tree/451f5bb701a0c5291732bd1f8be3c20884e94fa5#getting-started&quot;&gt;Getting Started&lt;/a&gt; section of the &lt;a href=&quot;https://github.com/plaid/plaid-postman/blob/master/README.md&quot;&gt;Plaid Postman &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;README&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &lt;h2 id=&quot;making-plaid-api-calls&quot;&gt;Making Plaid API calls&lt;/h2&gt; &lt;p&gt;Most Plaid API calls require a &lt;a href=&quot;https://plaid.com/docs/#plaid-tokens-public_token-access_token-or-asset_report_token&quot;&gt;Plaid Token&lt;/a&gt; in the form of an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; (or an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; when dealing with a &lt;a href=&quot;https://plaid.com/docs/#assets&quot;&gt;Plaid Asset&lt;/a&gt;).&lt;/p&gt; &lt;p&gt;After you have imported and configured the request collection in Postman, if you open up the &lt;em&gt;Retrieve Auth&lt;/em&gt; request and click the &lt;em&gt;Send&lt;/em&gt; button, you will receive something like the following error:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/retrieve-auth-no-access-token.png&quot; alt=&quot;retrieve-auth-no-access-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;Opening up the &lt;em&gt;Body&lt;/em&gt; tab of the request will reveal the issue:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/retrieve-auth-default-body.png&quot; alt=&quot;retrieve-auth-default-body&quot; /&gt;&lt;/p&gt; &lt;p&gt;You can see that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; contains an invalid place holder (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;ENTER_ACCESS_TOKEN_HERE&quot;&lt;/code&gt;), leading to the request failing. So, how can you use the Postman Collection to generate a valid &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;?&lt;/p&gt; &lt;p&gt;You will need to emulate the &lt;a href=&quot;https://plaid.com/docs/#exchange-token-flow&quot;&gt;Exchange Token Flow&lt;/a&gt; process by using the following included API requests:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;em&gt;Create Item [Sandbox Only]&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;Exchange Token&lt;/em&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Only then can you begin using the generated &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; to make other requests. So, let’s set about doing just that.&lt;/p&gt; &lt;h3 id=&quot;create-a-public-token&quot;&gt;Create a Public Token&lt;/h3&gt; &lt;p&gt;First, you need to &lt;a href=&quot;https://plaid.com/docs/#creating-public-tokens&quot;&gt;create a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;public_token&lt;/code&gt;&lt;/a&gt; using the &lt;em&gt;Create Item [Sandbox Only]&lt;/em&gt; request. Simply open it up, click the &lt;em&gt;Send&lt;/em&gt; button, and you should see a response similar to the following:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/create-public-token.png&quot; alt=&quot;create-public-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;If you are going to need to use the &lt;a href=&quot;https://plaid.com/docs/#assets&quot;&gt;Assets API&lt;/a&gt;, then make sure you open up the Body tab of the request and add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;assets&quot;&lt;/code&gt; to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;initial_products&lt;/code&gt; array, and &lt;em&gt;then&lt;/em&gt; generate your token. Otherwise, your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;public_token&lt;/code&gt; will not have the correct permissions set to use &lt;a href=&quot;https://plaid.com/docs/#assets&quot;&gt;Assets&lt;/a&gt;:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/create-public-token-with-assets-product.png&quot; alt=&quot;create-public-token-with-assets-product&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;create-an-access-token&quot;&gt;Create an Access Token&lt;/h3&gt; &lt;p&gt;Next, use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;public_token&lt;/code&gt; you generated in the previous step to generate an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; with the &lt;em&gt;Exchange Token&lt;/em&gt; request.&lt;/p&gt; &lt;p&gt;Paste your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;public_token&lt;/code&gt; into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;public_token&quot;&lt;/code&gt; field into the &lt;em&gt;Body&lt;/em&gt; section of the request. Click the &lt;em&gt;Send&lt;/em&gt; button, and you should see a response similar to the following:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/create-access-token-from-public-token.png&quot; alt=&quot;create-access-token-from-public-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;An &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; associated to an Item does not expire, so you can use it in all of your requests. The Postman Collection has an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; environment variable field available where you can store your generated access token, so I would suggest putting your newly generated token in there.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/add-access-token-to-env-variables.png&quot; alt=&quot;add-access-token-to-env-variables&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;use-access-token-in-api-calls&quot;&gt;Use Access Token in API Calls&lt;/h3&gt; &lt;p&gt;Now, go back to the &lt;em&gt;Retrieve Auth&lt;/em&gt; request that failed earlier, open up the &lt;em&gt;Body&lt;/em&gt; of the request, and set the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; field to be a reference to the access token set in your environment variables. Do this by changing the value to be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;{{access_token}}&quot;&lt;/code&gt;. Then, click the &lt;em&gt;Send&lt;/em&gt; button, and you should see a successful response.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/retrieve-auth-with-access-token.png&quot; alt=&quot;retrieve-auth-with-access-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;You can now repeat this step for any other Plaid API that requires an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;.&lt;/p&gt; &lt;h3 id=&quot;create-an-asset-report-token&quot;&gt;Create an Asset Report Token&lt;/h3&gt; &lt;p&gt;As well as using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_tokens&lt;/code&gt;, Plaid Asset Reports have their own &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; that need to be used when using the &lt;em&gt;Retrieve an Asset Report&lt;/em&gt; request.&lt;/p&gt; &lt;p&gt;You generate an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; using the &lt;em&gt;Create Asset Report&lt;/em&gt; request.&lt;/p&gt; &lt;p&gt;Open up the request &lt;em&gt;Body&lt;/em&gt; tab, and add a reference to your access token (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;{{access_token}}&quot;&lt;/code&gt;) to the array in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_tokens&lt;/code&gt; field. Then, click the &lt;em&gt;Send&lt;/em&gt; button, and you should see a response similar to the following:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/create-asset-report-token-with-access-token.png&quot; alt=&quot;create-asset-report-token-with-access-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;options&lt;/code&gt; object that is included by default in the &lt;em&gt;Body&lt;/em&gt; was removed here for brevity).&lt;/p&gt; &lt;p&gt;Similar to an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;, an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; also does not expire, so you can use it in all of your asset report-related requests.&lt;/p&gt; &lt;p&gt;The Postman Collection has an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; environment variable field available where you can store your generated token, so I would suggest putting it here with your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/add-asset-report-token-to-env-variables.png&quot; alt=&quot;add-asset-report-token-to-env-variables&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;use-asset-report-token-in-api-calls&quot;&gt;Use Asset Report Token in API Calls&lt;/h3&gt; &lt;p&gt;Now, you can try an API request like the &lt;em&gt;Retrieve an Asset Report (JSON)&lt;/em&gt; request, which requires an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;Open up the Body of the request, and set the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt; field to be a reference to the asset report token set in your environment variables (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;{{asset_report_token}}&quot;&lt;/code&gt;). Then, click the &lt;em&gt;Send&lt;/em&gt; button, and you should see a successful response.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-11-29/retrieve-asset-report-with-asset-report-token.png&quot; alt=&quot;retrieve-asset-report-with-asset-report-token&quot; /&gt;&lt;/p&gt; &lt;p&gt;You should now be all set up and ready to begin playing in Plaid’s Sandbox with any API that requires an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;access_token&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asset_report_token&lt;/code&gt;.&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="plaid"/><category term="postman"/><category term="api"/><summary type="html">Making API calls to Plaid&apos;s Sandbox Environment: The Missing Manual</summary></entry><entry><title type="html">My JLPT N1 Study Guide</title><link href="https://www.paulfioravanti.com/blog/jlpt-study-guide/" rel="alternate" type="text/html" title="My JLPT N1 Study Guide"/><published>2020-11-22T23:05:00+11:00</published><updated>2020-11-26T15:10:00+11:00</updated><id>https://www.paulfioravanti.com/blog/jlpt-study-guide</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/jlpt-study-guide/">&lt;p&gt;In my life, I have failed the highest level of the &lt;a href=&quot;https://www.jlpt.jp/e/&quot;&gt;Japanese Language Proficiency Test&lt;/a&gt; (JLPT) 7 times.&lt;/p&gt; &lt;p&gt;Five of my attempts on the &lt;a href=&quot;https://en.wikipedia.org/wiki/Japanese-Language_Proficiency_Test#Previous_format_(1984%E2%80%932009)&quot;&gt;old Level 1 exam&lt;/a&gt; (before it became &lt;a href=&quot;https://www.jlpt.jp/e/about/levelsummary.html&quot;&gt;N1&lt;/a&gt;) were when I was living and working in Japan, using Japanese full-time. I felt like my abilities were improving, so every &lt;ruby&gt;不合格&lt;rt&gt;ふごうかく&lt;/rt&gt;&lt;/ruby&gt; (Failure) notification stung a little harder than the last, but, well…maybe I would pass it the following year.&lt;/p&gt; &lt;p&gt;As the time came for me to move out of Japan, I wanted to pass the JLPT &lt;em&gt;just once&lt;/em&gt; to get a certificate. So, I cut my losses, attempted the old Level 2 exam, passed it, and appeased myself with the relief that I would finally be free of these infernal tests.&lt;/p&gt; &lt;p&gt;Fast forward 8 years.&lt;/p&gt; &lt;p&gt;For whatever reason, I started to get antsy about leaving my JLPT attempt in a failed state for so long: it beat me, and that sucked, and &lt;em&gt;I&lt;/em&gt; sucked, and I was obviously not over it.&lt;/p&gt; &lt;p&gt;But before making another attempt, though, I had to figure out what went wrong, why I had continued to fail all those other times, re-strategise my study plans, and actually execute them: &lt;em&gt;properly&lt;/em&gt;, this time.&lt;/p&gt; &lt;p&gt;Here is what got me over the line.&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;The following contains to my personal opinions and experiences with the N1 exam specifically: nothing is meant to be prescriptive (since everyone learns differently), and the approaches may not be relevant for all levels of the JLPT. My hope is that you will find at least something of reference as you formulate your own study plan.&lt;/p&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;mindset-change&quot;&gt;Mindset Change&lt;/h2&gt; &lt;p&gt;There were years where I attempted to study for the JLPT, and others where I would promptly forget I applied to take it, turn up on the day, and test my luck.&lt;/p&gt; &lt;p&gt;Neither scenario resulted in significantly different scores, though, so it would seem that the net value of any dedicated study I did, and any general improvements in the language gained during the year, was zero.&lt;/p&gt; &lt;p&gt;Therein lies the need for the mindset change: &lt;strong&gt;JLPT N1 does not test your Japanese abilities so much as it tests your ability to pass JLPT N1&lt;/strong&gt;.&lt;/p&gt; &lt;p&gt;The exam demands that:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;you remember a lot of grammar patterns, &lt;em&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Kanji&quot;&gt;kanji&lt;/a&gt;&lt;/em&gt;, and vocabulary that are used infrequently in everyday Japanese&lt;/li&gt; &lt;li&gt;you speed-read excerpts from novels and articles and be able to interpret and answer nuanced questions about them&lt;/li&gt; &lt;li&gt;you keep a mental track of the results of multiple weaving threads of conversations (which feel like they are deliberately engineered to trick you) before finding out which one is related to the question&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;It is a high-stress artificial environment requiring deep focus, where there is no time to waste when considering questions: you have to instinctively know answers &lt;em&gt;immediately&lt;/em&gt;, or take your best guess and move on. This is not Japanese in a real life context.&lt;/p&gt; &lt;p&gt;Naturally-assimilated Japanese abilities will not cut it here: your brain needs to go to the gym to build muscle memory through memorisation drilling exercises. The weights (content) that you train on are determined by the barbells (books) that you use, and N1 barbells are not lightweight.&lt;/p&gt; &lt;h2 id=&quot;buy-textbooks&quot;&gt;Buy Textbooks&lt;/h2&gt; &lt;p&gt;A cursory search on any internet book seller’s site for “&lt;ruby&gt;日本語&lt;rt&gt;にほんご&lt;/rt&gt;能力&lt;rt&gt;のうりょく&lt;/rt&gt;試験&lt;rt&gt;しけん&lt;/rt&gt;&lt;/ruby&gt;” yields more options than you could possibly read through, and a further search querying which set of books are “the best” will likely net you enough opinions to cause &lt;a href=&quot;https://en.wikipedia.org/wiki/Analysis_paralysis&quot;&gt;analysis paralysis&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;I cannot help decide which textbooks would be right for you, but what I can say is that I used the following books in order to get a passing grade for N1 (and can personally recommend them):&lt;/p&gt; &lt;ul&gt; &lt;li&gt;The &lt;a href=&quot;https://www.3anet.co.jp/np/list.html?series_id=4&quot;&gt;&lt;ruby&gt;新完全&lt;rt&gt;しんかんぜん&lt;/rt&gt;&lt;/ruby&gt;マスター&lt;/a&gt; (&lt;em&gt;Shin Kanzen Master&lt;/em&gt;) series of books. There is five in the set: one each for grammar (&lt;ruby&gt;文法&lt;rt&gt;ぶんぽう&lt;/rt&gt;&lt;/ruby&gt;), reading comprehension (&lt;ruby&gt;読解&lt;rt&gt;どっかい&lt;/rt&gt;&lt;/ruby&gt;), &lt;em&gt;kanji&lt;/em&gt; (&lt;ruby&gt;漢字&lt;rt&gt;かんじ&lt;/rt&gt;&lt;/ruby&gt;), vocabulary (&lt;ruby&gt;語彙&lt;rt&gt;ごい&lt;/rt&gt;&lt;/ruby&gt;), and listening comprehension (&lt;ruby&gt;聴解&lt;rt&gt;ちょうかい&lt;/rt&gt;&lt;/ruby&gt;). Get them all.&lt;/li&gt; &lt;li&gt;The &lt;a href=&quot;https://www.bonjinsha.com/goods/detail?id=12862&quot;&gt;&lt;ruby&gt;日本語&lt;rt&gt;にほんご&lt;/rt&gt;能力&lt;rt&gt;のうりょく&lt;/rt&gt;試験&lt;rt&gt;しけん&lt;/rt&gt;公式&lt;rt&gt;こうしき&lt;/rt&gt;問題集&lt;rt&gt;もんだいしゅう&lt;/rt&gt;&lt;/ruby&gt;&lt;/a&gt; (JLPT Official Practice Workbook). This book contains practice exams that you will absolutely want to attempt, under exam conditions, about 1-2 weeks before the actual exam. It’s all well and good to study in a vacuum, but you will not want exam day to be the first time you realise you have budgeted your efforts incorrectly and need to cover too much ground in too little time. Do all of the practice exams.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;The links above lead to Japan-based book stores which may or may not ship overseas. If you have issues ordering the books, or you do not want to wait for shipping, then definitely check out your local international book store.&lt;/p&gt; &lt;p&gt;If you are in Australia, I recommend checking out &lt;a href=&quot;https://australia.kinokuniya.com/&quot;&gt;Kinokuniya&lt;/a&gt;’s &lt;a href=&quot;https://australia.kinokuniya.com/t/hobby-and-goods/jlpt&quot;&gt;range of JLPT books&lt;/a&gt;, and visiting them if you are in range of a store.&lt;/p&gt; &lt;h2 id=&quot;strict-study-cadence&quot;&gt;Strict Study Cadence&lt;/h2&gt; &lt;p&gt;Are you serious about getting N1? Great, because you are going to need to &lt;em&gt;deliberately&lt;/em&gt; and &lt;em&gt;consciously&lt;/em&gt; set aside time to study &lt;em&gt;every day&lt;/em&gt; for at least a few months. There will inevitably be times where you are tired or you may just not want to study.&lt;/p&gt; &lt;p&gt;Too bad. Do it. Even if you slightly reduce your study time on off-days, you &lt;em&gt;must&lt;/em&gt; keep up your cadence because it is so easy to break, and stay broken.&lt;/p&gt; &lt;p&gt;You are going to run a marathon that is currently only held twice a year, and the price of failure is the time, effort, and cost of having to ramp up for the exam &lt;em&gt;again&lt;/em&gt;, not to mention the opportunity cost of not being able to direct those efforts to some other activity/hobby/venture you may have.&lt;/p&gt; &lt;p&gt;For me, I took an &lt;a href=&quot;https://www.briantracy.com/blog/time-management/the-truth-about-frogs/&quot;&gt;Eat That Frog&lt;/a&gt; approach and front-loaded my Japanese study early in the morning, every morning, during my study marathon period.&lt;/p&gt; &lt;p&gt;So, what is the optimal amount of study time per day? I actually do not know, so I outsourced figuring that out to a software program specifically designed to help you remember things efficiently.&lt;/p&gt; &lt;h2 id=&quot;textbooks---flash-cards&quot;&gt;Textbooks -&amp;gt; Flash Cards&lt;/h2&gt; &lt;p&gt;&lt;a href=&quot;https://apps.ankiweb.net/&quot;&gt;Anki&lt;/a&gt; was the secret weapon to my success at passing JLPT N1.&lt;/p&gt; &lt;p style=&quot;margin: auto; width: 85%;&quot;&gt;&lt;img src=&quot;/assets/images/2020-11-22/kanji-back-template.jpg&quot; alt=&quot;Anki Kanji Back Template&quot; /&gt;&lt;/p&gt; &lt;p&gt;Those textbooks you bought? The content in them is great, but in the confines of those dead trees, none of it is:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;searchable&lt;/li&gt; &lt;li&gt;portable&lt;/li&gt; &lt;li&gt;customisable&lt;/li&gt; &lt;li&gt;extensible&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Therefore, the very first activity in your study plan should be to manually port &lt;em&gt;all&lt;/em&gt; the content in those books into a different format: Anki flash cards.&lt;/p&gt; &lt;p&gt;Yes, &lt;a href=&quot;https://ankiweb.net/about&quot;&gt;AnkiWeb&lt;/a&gt; has a huge set of &lt;a href=&quot;https://ankiweb.net/shared/decks/jlpt&quot;&gt;community-submitted JLPT-related flash card decks&lt;/a&gt; that you can download and use for free. But, I &lt;em&gt;strongly&lt;/em&gt; recommend not using any of them, and instead &lt;strong&gt;roll your own decks as this is a great form of study&lt;/strong&gt;. It will markedly assist in:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;your initial learning and internalising of the content&lt;/li&gt; &lt;li&gt;your revision of the content as Anki works its spaced-revision-ing algorithms over it, surfacing your weaknesses and making sure they improve&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;For me, the most logical candidates for books to port over to Anki flash cards ended up being grammar (103 cards), &lt;em&gt;kanji&lt;/em&gt; (394 cards), and vocabulary (239 cards).&lt;/p&gt; &lt;p&gt;After creating the three decks, I would revise each of them every day at the pace that Anki dictated, and slot in listening and reading comprehension study once Anki preventing me from revising the decks further.&lt;/p&gt; &lt;p&gt;During commutes to work, I would continue to revise the cards using &lt;a href=&quot;https://apps.apple.com/au/app/ankimobile-flashcards/id373493387&quot;&gt;AnkiMobile&lt;/a&gt;. You may think that AnkiMobile is pricey for “just an app”, but, in my opinion, it is absolutely worth it given the objective you are trying to achieve, and the price of failure. I highly recommended using it if you can, and you can feel good about helping to support keeping Anki itself free.&lt;/p&gt; &lt;p&gt;Creating the actual flash card decks can be a bit confusing, especially if you do not have a coding background, so I have shared &lt;a href=&quot;https://github.com/paulfioravanti/jlpt&quot;&gt;my JLPT Anki templates&lt;/a&gt;, which you are free to use to create your own cards and/or customise to your liking. Each deck has an example card to get your started.&lt;/p&gt; &lt;p&gt;I have deliberately not shared my own decks on AnkiWeb, or anywhere else, as they are a straight port of copyrighted content. It would not be fair to the book authors, and I am sure their publishers would not be so happy with me if I did. So, definitely roll your own decks.&lt;/p&gt; &lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt; &lt;p&gt;I rinsed and repeated the Anki revision process for a few months, kicked off practice exams a couple of weeks before the day of the JLPT, and eventually entered the exam with a feeling of contentedness knowing that I did all I could possibly have done.&lt;/p&gt; &lt;p&gt;The exam was still really tough, and I left it giving myself a 50-50 chance of passing, since the brutal time limitations still left me having to rush through some sections and guess at some problems.&lt;/p&gt; &lt;p&gt;But on that attempt, on attempt number eight, I finally got it. So, with apologies to &lt;a href=&quot;https://en.wikipedia.org/wiki/Vitas_Gerulaitis#Quote&quot;&gt;Vitas Gerulaitis&lt;/a&gt;:&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;And let that be a lesson to you all. No JLPT exam beats Paul Fioravanti 8 times in a row.&lt;/p&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;worth-it&quot;&gt;Worth it?&lt;/h2&gt; &lt;p&gt;In order to relieve my poor shoulder of the giant JLPT-shaped chip that had obviously been laying dormant there for years, the effort put in to finally getting that passing mark was absolutely worth it.&lt;/p&gt; &lt;p&gt;From a career perspective, not having Level 1 (or any level) ever stopped me from getting a job while I was living in Japan. I found that most employment-based language “testing” ended up being litmus tests during face-to-face interviews to see if you had any degree of conversational and &lt;em&gt;kanji&lt;/em&gt;-reading fluency.&lt;/p&gt; &lt;p&gt;I guess that if you are planning on doing &lt;a href=&quot;https://en.wikipedia.org/wiki/Japanese-Language_Proficiency_Test#Acceptance_in_Japan&quot;&gt;an activity where passing JLPT N1 is a pre-requisite&lt;/a&gt;, then passing it represents a hard barrier that you must cross. But, back in Australia, my work requires no Japanese at all, so the JLPT qualification is simply a nice feather in my hat, and something I can write a blog post about.&lt;/p&gt; &lt;p&gt;From a language perspective, I absolutely did learn a lot of interesting new words, grammar, and &lt;em&gt;kanji&lt;/em&gt;. There may be a lot of content examined in the JLPT that is not used much in everyday Japanese, but learning it &lt;em&gt;was&lt;/em&gt; valuable. From that point of view, you could say that studying for the JLPT forced my hand in learning Japanese I would not have picked up of my own volition, for which I am thankful.&lt;/p&gt; &lt;h2 id=&quot;postscript-after-n1&quot;&gt;Postscript: After N1&lt;/h2&gt; &lt;p&gt;I do not study Japanese formally any more, but I do keep up my language practice every day, so here is a random list of the forms that that takes.&lt;/p&gt; &lt;ul&gt; &lt;li&gt;I have a Japanese spouse, and my spoken language at home is Japanese. I’m not saying you should marry a Japanese to keep up your language skills, of course, but the fact is, it does help a lot.&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://news.yahoo.co.jp/&quot;&gt;Yahoo Japan News&lt;/a&gt;, regardless of its design being stuck in &lt;a href=&quot;https://en.wikipedia.org/wiki/Web_2.0#Web_1.0&quot;&gt;Web 1.0&lt;/a&gt;, is still the most trafficked news site in Japan, and so is worth checking regularly on that merit alone. If you use &lt;a href=&quot;https://www.google.com/intl/en_au/chrome/&quot;&gt;Google Chrome&lt;/a&gt;, I &lt;em&gt;highly&lt;/em&gt; recommend installing the &lt;a href=&quot;https://chrome.google.com/webstore/detail/rikaikun/jipdnfibhldikgcjhfnomkfpcebammhp?hl=en&quot;&gt;rikaikun&lt;/a&gt; extension to help make reading &lt;em&gt;kanji&lt;/em&gt; a breeze.&lt;/li&gt; &lt;li&gt;I do not watch much Japanese TV, but one show that I will actively watch every week is &lt;a href=&quot;https://www.fujitv.co.jp/widna-show/&quot;&gt;ワイドナショー&lt;/a&gt; (The Wide Show), a news and entertainment show. I like &lt;a href=&quot;https://twitter.com/matsu_bouzu&quot;&gt;Hitoshi Matsumoto&lt;/a&gt;, a comedian and one of the co-hosts, and I find that the programme is good to help get a view on what stories and issues are being talked about in Japan currently. There is no official way to view the show outside of Japan, but you can always find a channel on YouTube that streams it live at 10:00am &lt;a href=&quot;https://en.wikipedia.org/wiki/Japan_Standard_Time&quot;&gt;JST&lt;/a&gt; Sundays.&lt;/li&gt; &lt;li&gt;There are a lot of great YouTube channels originating from Japan. Here is a selection of a few in my subscriptions: &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCVx6RFaEAg46xfAsD2zz16w&quot;&gt;&lt;ruby&gt;日本語&lt;rt&gt;にほんご&lt;/rt&gt;&lt;/ruby&gt;の&lt;ruby&gt;森&lt;rt&gt;もり&lt;/rt&gt;&lt;/ruby&gt;&lt;/a&gt;: &lt;em&gt;Nihongo no Mori&lt;/em&gt;, the Japanese Forest, is a fantastic resource for JLPT videos. If you are actively studying, or you just want the occasional refresher, you want to subscribe to this channel.&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCL6JY2DXJNDOIqCP1CRADng&quot;&gt;エガちゃんねる EGA-CHANNEL&lt;/a&gt;: The official channel of &lt;a href=&quot;https://en.wikipedia.org/wiki/Egashira_2:50&quot;&gt;Egashira 2:50&lt;/a&gt;, probably the nicest completely bonkers comedian in Japan.&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCbb9FsCRA83-6vdgXn2KSyA&quot;&gt;マキシマム ザ ホルモン&lt;ruby&gt;公式&lt;rt&gt;こうしき&lt;/rt&gt;&lt;/ruby&gt;&lt;/a&gt;: The official channel of band &lt;a href=&quot;https://en.wikipedia.org/wiki/Maximum_the_Hormone&quot;&gt;Maximum the Hormone&lt;/a&gt;. Their music is awesome, but in particular, their ガチンコ ザ ホルモン series where they held auditions to create a second “outlet” of their band (２&lt;ruby&gt;号店&lt;rt&gt;ごうてん&lt;/rt&gt;&lt;/ruby&gt;) is novel and excellent viewing.&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/channel/UCvtK7490fPF0TacbsvQ2H3g&quot;&gt;&lt;ruby&gt;禁断&lt;rt&gt;きんだん&lt;/rt&gt;&lt;/ruby&gt;ボーイズ&lt;/a&gt;: The channel for Kindan (Prohibited) Boys. The interviews this team of 4 comedians do in places like &lt;a href=&quot;https://en.wikipedia.org/wiki/Shibuya&quot;&gt;Shibuya&lt;/a&gt; provide a great insight into the minds of young Japanese. The “Cinderella” dating show they did for one of their members, “Messiah” (めさいあシンデレラ), is one of the channel highlights.&lt;/li&gt; &lt;li&gt;Popular YouTubers &lt;a href=&quot;https://www.youtube.com/channel/UCaminwG9MTO4sLYeC3s6udA&quot;&gt;ヒカル（Hikaru）&lt;/a&gt; and &lt;a href=&quot;https://www.youtube.com/channel/UCgQgMOBZOJ1ZDtCZ4hwP1uQ&quot;&gt;ラファエル Raphael&lt;/a&gt; have some interesting content in their channels, and I would recommend sorting by “Most popular” to see if what they offer is of interest to you.&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;If you have any recommendations for Japanese language study guides, or Japanese language media that you like reading/watching, please let me know in a comment!&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="japanese"/><category term="jlpt"/><category term="anki"/><category term="html"/><category term="css"/><category term="javascript"/><category term="日本語"/><summary type="html">Level N1 of The Japanese Language Proficiency Test is a tough nut to crack, but these study methods got me over the line.</summary></entry><entry><title type="html">All I want is a Timestamp</title><link href="https://www.paulfioravanti.com/blog/google-sheets-timestamp/" rel="alternate" type="text/html" title="All I want is a Timestamp"/><published>2020-07-25T17:35:00+10:00</published><updated>2020-11-01T22:00:00+11:00</updated><id>https://www.paulfioravanti.com/blog/google-sheets-timestamp</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/google-sheets-timestamp/">&lt;p&gt;Inserting the current date and time into a &lt;a href=&quot;https://www.google.com/sheets/about/&quot;&gt;Google Sheets&lt;/a&gt; cell can be done with the following &lt;a href=&quot;https://support.google.com/docs/answer/181110&quot;&gt;keyboard shortcut&lt;/a&gt;:&lt;/p&gt; &lt;table style=&quot;margin: auto; width: 50%; font-size: larger; margin-bottom: 1rem;&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th style=&quot;text-align: center&quot;&gt;Platform&lt;/th&gt; &lt;th style=&quot;text-align: center&quot;&gt;Shortcut&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td style=&quot;text-align: center&quot;&gt;PC&lt;/td&gt; &lt;td style=&quot;text-align: center&quot;&gt;Ctrl + Alt + Shift + ;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td style=&quot;text-align: center&quot;&gt;Mac&lt;/td&gt; &lt;td style=&quot;text-align: center&quot;&gt;⌘ + Option + Shift + ;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;p&gt;If you have found this page via searching specifically for this information, then please consider your objective fulfilled. You’re welcome!&lt;/p&gt; &lt;p&gt;There is a story around me getting to this point, though, since behind the simple table above is a small journey involving Google Sheets’ &lt;a href=&quot;https://support.google.com/docs/table/25273&quot;&gt;functions&lt;/a&gt; and &lt;a href=&quot;https://support.google.com/docs/answer/7665004&quot;&gt;macros&lt;/a&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript&quot;&gt;Javascript&lt;/a&gt;, and eventually &lt;a href=&quot;https://qmk.fm/&quot;&gt;QMK Firmware&lt;/a&gt; for mechanical keyboards. Still with me? Read on…&lt;/p&gt; &lt;h2 id=&quot;to-do-list&quot;&gt;To-Do List&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-07-25/todo-list.png&quot; alt=&quot;To-Do List&quot; style=&quot;width: 50%; float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/p&gt; &lt;p&gt;Using Google Sheets, I wanted to have a task list, similar to this screenshot, where I could log the start and end times of my tasks.&lt;/p&gt; &lt;p&gt;I made the assumption that there was a built-in function that could generate a timestamp for me, and when I went looking, I found &lt;a href=&quot;https://support.google.com/docs/answer/3092981&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOW&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-07-25/start-now.gif&quot; alt=&quot;Start Now&quot; style=&quot;width: 50%; float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/p&gt; &lt;p&gt;Using it in the spreadsheet would seem to have given me what I wanted, formatted in the way that I expect. Great!&lt;/p&gt; &lt;p&gt;When a task is finished, all I should have to do is make another call to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOW&lt;/code&gt;, and I would get a new generated date and time, right? Well, that happened, but also…&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-07-25/finish-now.gif&quot; alt=&quot;Finish Now&quot; style=&quot;width: 50%; float: right; margin-left: 1rem; margin-bottom: 1rem;&quot; /&gt;&lt;/p&gt; &lt;p&gt;…the &lt;em&gt;start time&lt;/em&gt; also got re-generated, ending up the same value as the finish time!&lt;/p&gt; &lt;p&gt;I thought that surely this could not be correct behaviour, but deleting the finish time caused the start time to be re-generated &lt;em&gt;yet again&lt;/em&gt;!&lt;/p&gt; &lt;p&gt;So, it would seem that cells that use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOW&lt;/code&gt; function get re-calculated whenever &lt;em&gt;any change&lt;/em&gt; occurs in the spreadsheet. Perhaps there is a way to adjust this behaviour…?&lt;/p&gt; &lt;p style=&quot;margin: auto; width: 70%; margin-bottom: 1rem;&quot;&gt;&lt;img src=&quot;/assets/images/2020-07-25/spreadsheet-settings.png&quot; alt=&quot;Spreadsheet Settings image&quot; /&gt;&lt;/p&gt; &lt;p&gt;In the &lt;a href=&quot;https://support.google.com/docs/answer/58515&quot;&gt;Spreadsheet Settings&lt;/a&gt;, located under the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;File &amp;gt; Spreadsheet Settings &amp;gt; Calculation&lt;/code&gt; menu options, there are three re-calculation options for the spreadsheet, but none of them &lt;em&gt;turn off&lt;/em&gt; re-calculation.&lt;/p&gt; &lt;p&gt;Looking back at the &lt;a href=&quot;https://support.google.com/docs/answer/3092981&quot;&gt;documentation for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOW&lt;/code&gt;&lt;/a&gt;, which I really should have viewed in more detail earlier, brings into focus that I’m using the wrong tool for the job:&lt;/p&gt; &lt;blockquote&gt; &lt;ul&gt; &lt;li&gt;Note that NOW is a volatile function, updating on every edit made to the spreadsheet, and can hurt spreadsheet performance.&lt;/li&gt; &lt;li&gt;NOW will always represent the current date and time the last time the spreadsheet was recalculated, rather than remaining at the date and time when it was first entered.&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt; &lt;p&gt;Now that I know I have a &lt;em&gt;dynamic&lt;/em&gt; values problem, I wonder if there is any way to get a &lt;em&gt;static&lt;/em&gt; datetime &lt;em&gt;value&lt;/em&gt;, rather than what seems like a reference to a function that gets executed periodically?&lt;/p&gt; &lt;p&gt;At first glance, it looks like there are potentially two other functions that could fit the bill, since they return “values”:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://support.google.com/docs/answer/3093039&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DATEVALUE&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://support.google.com/docs/answer/3267350&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TIMEVALUE&lt;/code&gt;&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;However, both of these functions require a static string parameter, and “return integers that can be used in formulas”, those integers being a &lt;a href=&quot;https://www.lifewire.com/serial-number-serial-date-3123991&quot;&gt;serial number representation&lt;/a&gt; of the date or time.&lt;/p&gt; &lt;p&gt;I definitely know that this is not what I want, so no need to go further down this &lt;a href=&quot;https://www.dictionary.com/e/slang/rabbit-hole/&quot;&gt;rabbit hole&lt;/a&gt;.&lt;/p&gt; &lt;h2 id=&quot;custom-behaviour-with-macros&quot;&gt;Custom Behaviour with Macros&lt;/h2&gt; &lt;p&gt;At this stage, it looks like I will need to create my own custom function/behaviour to get what I want. In Google Sheets, you do this with &lt;a href=&quot;https://support.google.com/docs/answer/7665004&quot;&gt;Macros&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Since what I wanted was a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NOW&lt;/code&gt; value, I will call the macro the next best thing: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_now&lt;/code&gt;, and get it to do the following:&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;When I type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_now&lt;/code&gt; into a cell, and the cell loses “focus” (ie I move the cursor to another cell), the value of that cell changes from the string &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_now&lt;/code&gt;, to the current date and time.&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;In Google Sheets, &lt;a href=&quot;https://developers.google.com/apps-script/guides/sheets/functions&quot;&gt;custom functions&lt;/a&gt; are created using Javascript, and are written in the Script Editor (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Tools &amp;gt; Script Editor&lt;/code&gt;).&lt;/p&gt; &lt;p&gt;To get the desired behaviour, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_now&lt;/code&gt; function will need to hook into Sheets’ &lt;a href=&quot;https://developers.google.com/apps-script/guides/triggers&quot;&gt;Simple Triggers&lt;/a&gt;, specifically the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onEdit(e)&lt;/code&gt; trigger function, which “runs when a user changes a value in a spreadsheet.”&lt;/p&gt; &lt;p&gt;Opening up the Script Editor provides a default file called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;macros.gs&lt;/code&gt;, so that’s where the function will go:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;macros.gs&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/** @OnlyCurrentDoc */&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;onEdit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;_now&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;formattedDate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;en-AU&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;timeZone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Australia/Sydney&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;hour12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;formattedDate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;This function does the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Whenever an edit occurs in the spreadsheet, the content of the cell is checked to see if it contains the string &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;_now&quot;&lt;/code&gt; (technically, the value of the &lt;a href=&quot;https://developers.google.com/apps-script/reference/spreadsheet/range&quot;&gt;range&lt;/a&gt; of the &lt;a href=&quot;https://developers.google.com/apps-script/guides/triggers/events&quot;&gt;event object&lt;/a&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e&lt;/code&gt; is checked)&lt;/li&gt; &lt;li&gt;If it does contain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;_now&quot;&lt;/code&gt;, then it uses Javascript to create a new date&lt;/li&gt; &lt;li&gt;From that date object, a new date string is created and formatted according to my current locale (Sydney, Australia), and in 24-hour time&lt;/li&gt; &lt;li&gt;The content of the cell is then set to the formatted date string&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Let’s see how this works back in the spreadsheet:&lt;/p&gt; &lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/assets/images/2020-07-25/now-macro.gif&quot; alt=&quot;Now Macro&quot; /&gt;&lt;/p&gt; &lt;p&gt;Looks good to me! We’re done here now, right?&lt;/p&gt; &lt;p&gt;Well, something about this still did not sit right with me: surely the desire for a current date and time could not be so uncommon that all this ceremony and customisation was needed…?&lt;/p&gt; &lt;p&gt;The punch line is that, as you already know, if I had &lt;em&gt;just&lt;/em&gt; looked into Google Sheets’ &lt;a href=&quot;https://support.google.com/docs/answer/181110&quot;&gt;keyboard shortcuts&lt;/a&gt;, I could have saved myself all this time (though I would probably not have learned about all the things I’ve covered here, nor written this blog post at all, so I guess that is a good thing…?).&lt;/p&gt; &lt;p&gt;Opening up the shortcut search modal (⌘ + /) and searching for “time” displays the following:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-07-25/time-shortcuts-search.png&quot; alt=&quot;Time Shortcut Search&quot; /&gt;&lt;/p&gt; &lt;p&gt;The solution was unfortunately hidden away from me, but it was simpler than what I had created. So, rather than keep the custom function, I removed it in favour of using the “Insert current date and time” shortcut.&lt;/p&gt; &lt;p&gt;The only issue I can see now, though, is that a 4-key “shortcut” is a bit unwieldy, and since I will be using this a lot moving forward, I want it to be shorter. And, just for fun, I want to actually map it to a key on my keyboard.&lt;/p&gt; &lt;p&gt;So, it’s time to crack open &lt;a href=&quot;https://qmk.fm/&quot;&gt;QMK&lt;/a&gt; and make this happen!&lt;/p&gt; &lt;p&gt;(I know I could potentially make the shortcut a bit shorter using an &lt;a href=&quot;https://osxdaily.com/2017/08/08/create-custom-keyboard-shortcut-mac/&quot;&gt;operating-system level custom keyboard shortcut&lt;/a&gt;, rather than go down to the metal of my keyboard firmware, but where’s the fun in that?)&lt;/p&gt; &lt;h2 id=&quot;configuring-a-google-sheets-datetime-key&quot;&gt;Configuring a Google Sheets Datetime Key&lt;/h2&gt; &lt;p&gt;I have gone into the details on how to create new keyboard keycodes that map to custom actions in a couple of other blog posts:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/escape-the-defaults-and-control-your-keyboard-with-qmk/&quot;&gt;Escape the defaults and Control your keyboard with QMK&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/chording-qwerty-with-qmk-combos/&quot;&gt;Chording QWERTY with QMK Combos&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;So, I will just summarise the changes I needed to make to get a datetime appearing on a key press of my &lt;a href=&quot;https://ergodox-ez.com/&quot;&gt;Ergodox EZ&lt;/a&gt;, and the blog posts above should be able to fill in any areas you may be uncertain about. You can also view the final result in &lt;a href=&quot;https://github.com/paulfioravanti/qmk_keymaps&quot;&gt;my QMK Keymaps&lt;/a&gt;.&lt;/p&gt; &lt;h3 id=&quot;custom-keycode&quot;&gt;Custom Keycode&lt;/h3&gt; &lt;p&gt;Add a custom keycode for a Google Sheets timestamp, which I will call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GS_TIMESTAMP&lt;/code&gt;, to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;custom_keycodes&lt;/code&gt; list:&lt;/p&gt; &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;custom_keycodes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ....&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GS_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;a href=&quot;https://github.com/paulfioravanti/qmk_keymaps/blob/master/keyboards/ergodox_ez/keymaps/paulfioravanti/keycodes/custom_keycodes.c&quot;&gt;My &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;custom_keycodes&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt; &lt;h3 id=&quot;custom-action&quot;&gt;Custom Action&lt;/h3&gt; &lt;p&gt;Add a custom action for when the key corresponding to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GS_TIMESTAMP&lt;/code&gt; is pressed. In this case, I want to map it to the Google Sheets shortcut: ⌘ + Option + Shift + ;.&lt;/p&gt; &lt;p&gt;This gets coded up in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;process_record_user()&lt;/code&gt; function as one of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;case&lt;/code&gt; options in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;switch&lt;/code&gt; statement:&lt;/p&gt; &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process_record_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;uint16_t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keycode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keyrecord_t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pressed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keycode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GS_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SEND_STRING&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LGUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LALT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_DOWN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LSHIFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SEND_STRING&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_TAP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_SCOLON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SEND_STRING&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LGUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LALT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SS_UP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X_LSHIFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;a href=&quot;https://github.com/paulfioravanti/qmk_keymaps/blob/master/keyboards/ergodox_ez/keymaps/paulfioravanti/keycodes/process_record_user.c&quot;&gt;My &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;process_record_user&lt;/code&gt; function&lt;/a&gt;.&lt;/p&gt; &lt;h3 id=&quot;assign-keycode-to-key&quot;&gt;Assign Keycode to Key&lt;/h3&gt; &lt;p&gt;Now that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GS_TIMESTAMP&lt;/code&gt; has a definition and an action that it performs, it needs to be assigned to a key on the keyboard:&lt;/p&gt; &lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BASE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LAYOUT_ergodox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// layer 0 : default&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// left hand&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GS_TIMESTAMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;KC_LEFT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Note that the positioning of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GS_TIMESTAMP&lt;/code&gt; keycode on the top left key of the keyboard, before the “1” key, is just meant to be illustrative of the kind of code change required. I ended up defining it &lt;a href=&quot;https://github.com/paulfioravanti/qmk_keymaps/blob/dbd332f153eff5f7779f2363264e4d3eb6d908af/keyboards/ergodox_ez/keymaps/paulfioravanti/keymap.c#L96&quot;&gt;somewhere else on my keymap&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;If you followed along with your own QMK keyboard mapping, you can now re-compile your keymap, and enjoy one-key timestamp-ing in any of your Google Sheets!&lt;/p&gt; &lt;p&gt;And remember, if you come across a problem in Google Sheets that &lt;em&gt;surely&lt;/em&gt; should have a solution, make sure to read every bit of documentation you can find before reaching for that text editor!&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="google-sheets"/><category term="javascript"/><category term="keyboards"/><category term="ergodox"/><category term="mechanical-keyboards"/><summary type="html">Google Sheets can insert the current date and time in your spreadsheet, if you know where to look.</summary></entry><entry><title type="html">I Completed Typey Type</title><link href="https://www.paulfioravanti.com/blog/completed-typey-type/" rel="alternate" type="text/html" title="I Completed Typey Type"/><published>2020-06-10T21:00:00+10:00</published><updated>2020-11-01T22:00:00+11:00</updated><id>https://www.paulfioravanti.com/blog/completed-typey-type</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/completed-typey-type/">&lt;p&gt;I first got into &lt;a href=&quot;https://en.wikipedia.org/wiki/Shorthand&quot;&gt;stenography&lt;/a&gt; in late 2018, and wrote up a blog post about &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/starting-stenography-with-an-ergodox/&quot;&gt;Starting Stenography with an Ergodox&lt;/a&gt;&lt;/em&gt;, which outlines how I started my steno journey using an &lt;a href=&quot;https://ergodox-ez.com/&quot;&gt;Ergodox EZ&lt;/a&gt; mechanical keyboard.&lt;/p&gt; &lt;p&gt;One of the learning resources I used was &lt;a href=&quot;https://didoesdigital.com/typey-type/&quot;&gt;Typey Type&lt;/a&gt;, an awesome web-based typing application by &lt;a href=&quot;https://didoesdigital.com/&quot;&gt;Diana MacDonald&lt;/a&gt;. I would use it occasionally over the course of a few months until, unfortunately, my steno learning fell by the wayside some time in early 2019. I then completely neglected it for the rest of the year.&lt;/p&gt; &lt;p&gt;Come 2020, one of my New Year’s resolutions was to get my steno learning back on track, and Typey Type was going to be key. Typey Type keeps track of &lt;a href=&quot;https://didoesdigital.com/typey-type/progress&quot;&gt;your progress&lt;/a&gt; through its lessons, and provides you with a percentage score based on how many words you have typed without mis-strokes. It was this number that I latched on to: I wanted it to be 100%.&lt;/p&gt; &lt;p&gt;But, what was to stop yet another lapse in practice, resulting in writing off yet &lt;em&gt;another&lt;/em&gt; year of potential progress? Accountability! I was able to find another person who wanted to kick-start their steno-related activities, and we became &lt;em&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Accountability_partner&quot;&gt;accountability buddies!&lt;/a&gt;&lt;/em&gt;&lt;/p&gt; &lt;h2 id=&quot;define-success-and-establish-cadence&quot;&gt;Define Success and Establish Cadence&lt;/h2&gt; &lt;p&gt;First of all, we each defined and declared what success in our steno endeavours would look like. Here is what I wrote back in January:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;30 minutes minimum steno practice a day, preferably an hour&lt;/li&gt; &lt;li&gt;I want to hit 100% progress on Typey Type this year (maybe this can take 6 months on this schedule…?)&lt;/li&gt; &lt;li&gt;It would be nice to have my steno speeds match, or at least approach, my &lt;a href=&quot;https://en.wikipedia.org/wiki/QWERTY&quot;&gt;QWERTY&lt;/a&gt; typing speeds by the end of the year, so I can justify integrating it with my everyday workflows&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Every week, without fail, I would need to send my accountability buddy an email outlining what I had done in the last week to move forward towards completing those goals.&lt;/p&gt; &lt;p&gt;I do not think I can possibly stress enough how &lt;em&gt;beneficial&lt;/em&gt; it was to have this system in place:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;I had a deadline, every week, where someone was expecting to hear from me&lt;/li&gt; &lt;li&gt;I did not want to have to report a lack of or no progress, which helped force me to keep up my routines&lt;/li&gt; &lt;li&gt;Being able to report percentage gains towards the completion goal to an interested party felt great, and helped propel me forward&lt;/li&gt; &lt;li&gt;I took an &lt;a href=&quot;https://www.briantracy.com/blog/time-management/the-truth-about-frogs/&quot;&gt;“eat that frog”&lt;/a&gt; approach to the timing of the 30 minutes practice being first thing in the morning before breakfast, so I would not worry about it for the rest of the day, or while at work&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;For the first three months, I kept a schedule of 30 minutes steno practice a day, every day, even if I did not want to do it, which, initially, was often. Then, from the fourth month, I made a small increase to doing an hour a day on weekends. Finally, seeing &lt;a href=&quot;https://www.reddit.com/r/Plover/comments/gdtmaj/omggg_finally_100_wpm_on_simple_exercise_broken/&quot;&gt;this r/plover post&lt;/a&gt; spurred me to go up to an hour steno practice every day, which I have been able to keep as of this writing.&lt;/p&gt; &lt;p&gt;And so, after five months of practice, I finally reached &lt;strong&gt;100% completion&lt;/strong&gt;, meaning I have been able to type 10,000 words without mis-strokes.&lt;/p&gt; &lt;p&gt;I was initially worried that I was not hitting goals fast enough since I read of people who were, say, getting up to 50 words-per-minute (WPM) after just a month or two of steno practice. Maybe they had the luxury to dedicate their entire full-time schedule to stenography, or maybe they were super-geniuses, or maybe a bit of both….&lt;/p&gt; &lt;p&gt;Regardless, I needed to consciously ignore all this, not compare myself to anyone else (real or imagined), and just &lt;em&gt;keep up the routine&lt;/em&gt;. It may have taken a while, but I do not mind; the journey has been beneficial and being able to hit a goal feels great!&lt;/p&gt; &lt;h2 id=&quot;contributing-back&quot;&gt;Contributing Back&lt;/h2&gt; &lt;p&gt;Aside from learning stenography through Typey Type, one of the other goals I had was that if I find dictionary issues in Typey Type (incorrect or missing words etc), I would make notes of them, and set aside time to file &lt;a href=&quot;https://guides.github.com/features/issues/#:~:text=Issues%20are%20a%20great%20way,own%20section%20in%20every%20repository.&quot;&gt;issues&lt;/a&gt; and &lt;a href=&quot;https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests&quot;&gt;pull requests&lt;/a&gt; (PRs) to &lt;a href=&quot;https://github.com/didoesdigital/steno-dictionaries&quot;&gt;Typey Type’s dictionary Github repository&lt;/a&gt; as close to finishing steno practice as possible.&lt;/p&gt; &lt;p&gt;This is particularly important to me. Typey Type is a &lt;em&gt;massively valuable&lt;/em&gt; piece of &lt;a href=&quot;https://en.wikipedia.org/wiki/Open-source_software&quot;&gt;open source software&lt;/a&gt; that is being provided &lt;em&gt;for free&lt;/em&gt;. Given the value I personally get from it, the &lt;em&gt;least&lt;/em&gt; I can do is to help improve it where I can.&lt;/p&gt; &lt;p&gt;As a software engineer, I use &lt;a href=&quot;https://git-scm.com/&quot;&gt;Git&lt;/a&gt; and &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt; daily, so contributing back does not require any extra effort to learn new tools; just the time to make notes and craft them into issues/PRs (there are &lt;a href=&quot;https://didoesdigital.com/typey-type/support#support&quot;&gt;other ways&lt;/a&gt; to get your proposals in, so do not let not knowing Git or caring about Github stop you from proposing a dictionary entry improvement!).&lt;/p&gt; &lt;p&gt;The process of contributing back also had the great knock-on effects of gaining a deeper understanding about &lt;a href=&quot;http://www.openstenoproject.org/&quot;&gt;Plover&lt;/a&gt; theory through researching discrepancies between Typey Type and Plover dictionary entries, and receiving expert knowledge from Diana in the interesting discussion threads on Github.&lt;/p&gt; &lt;h2 id=&quot;now-what&quot;&gt;Now What?&lt;/h2&gt; &lt;p&gt;I may have “completed” Typey Type, but, there is still a long, &lt;em&gt;long&lt;/em&gt; road ahead of me. I now know &lt;em&gt;viscerally&lt;/em&gt; that steno is &lt;em&gt;not&lt;/em&gt; something that I can casually pick up: success is going to require continuous pushing until I can use steno in daily typing in the way I currently use QWERTY. Steno feels more like learning a new language than just a keyboard layout.&lt;/p&gt; &lt;p&gt;Since Typey Type has lots of activities outside of those scored 10,000 words, I’m planning to continue doing them to learn ever more and hopefully build up more muscle memory.&lt;/p&gt; &lt;p&gt;Just as important, though, is that I did not focus on gaining speed &lt;em&gt;at all&lt;/em&gt; during my practice, so I am still currently a very slow steno typist (read: less than 20 WPM slow). I think the lack of gains I made in speed were made up for with an increase in stroke intuition, but getting higher speeds remains a major goal.&lt;/p&gt; &lt;p&gt;So, the grind may not be over, but I am still energised. I’m looking forward to keeping up my current steno pace, and then taking stock again in another six months to hopefully realise what could be my first successful completion of a New Year’s resolution.&lt;/p&gt; &lt;hr /&gt; &lt;h2 id=&quot;postscript-typey-type-tips&quot;&gt;Postscript: Typey Type Tips&lt;/h2&gt; &lt;p&gt;This section did not really fit within the body of the blog post, so it gets tacked on at the end…&lt;/p&gt; &lt;p&gt;If you are currently using Typey Type or about to start, and maybe even thinking of contributing back, here are some things I have learned along the way, in no particular order.&lt;/p&gt; &lt;ul&gt; &lt;li&gt;After downloading &lt;a href=&quot;http://www.openstenoproject.org/&quot;&gt;Plover&lt;/a&gt;, if you find that you are not getting the expected output when stroking words in Typey Type, chances are that this is because you are using Plover version 3.1.1 (the current &lt;a href=&quot;https://github.com/openstenoproject/plover/releases/tag/v3.1.1&quot;&gt;stable release&lt;/a&gt;), while Typey Type dictionary entries are more optimised to favour Plover version 4 pre-release (the latest as of this writing being &lt;a href=&quot;https://github.com/openstenoproject/plover/releases/tag/weekly-v4.0.0.dev8%2B66.g685bd33&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;weekly-v4.0.0.dev8+66.g685bd33&lt;/code&gt;&lt;/a&gt;) entries. So, I would currently recommend downloading pre-release versions to have a smoother steno experience. The latest information about installing Plover can always be found in its &lt;a href=&quot;https://github.com/openstenoproject/plover/wiki/Installation-Guide&quot;&gt;Installation Guide&lt;/a&gt;&lt;/li&gt; &lt;li&gt;Your Typey Type progress file is stored in your browser, which means there is a non-zero chance you may accidentally delete it if you are ever too eager with clearing your browser data. Having lost my progress file once, I can recommend having backups. I back mine up to &lt;a href=&quot;https://www.dropbox.com/&quot;&gt;Dropbox&lt;/a&gt; after every practice session.&lt;/li&gt; &lt;li&gt;Plover’s Lookup functionality has been my constant companion when using Typey Type. Whenever a word came up in Typey Type whose &lt;a href=&quot;https://sites.google.com/site/learnplover/glossary&quot;&gt;outline&lt;/a&gt; did not “feel quite right” to me, I would look the word up in Plover to see if there were any other outlines for that word that fit my brain better. If there were, I would sometimes submit these to the &lt;a href=&quot;https://github.com/didoesdigital/steno-dictionaries&quot;&gt;Typey Type dictionary Github repo&lt;/a&gt; as a potential change for consideration. Sometimes, an outline I thought better suited for a word would turn out to be a mis-stroke. So, it’s also worth checking &lt;a href=&quot;https://github.com/didoesdigital/steno-dictionaries/blob/master/dictionaries/misstrokes.json&quot;&gt;Typey Type’s mis-stroke dictionary&lt;/a&gt; to test your suspicions&lt;/li&gt; &lt;li&gt;Many entries from &lt;a href=&quot;https://github.com/didoesdigital/steno-dictionaries/blob/master/dictionaries/top-10000-project-gutenberg-words.json&quot;&gt;Typey Type’s Top 1000 Project Gutenberg Words dictionary&lt;/a&gt;, which appear in Typey Type practice exercises, use British English spelling. This means that there is a high chance that American-English-based Plover dictionaries will not have corresponding entries for those words. Typey Type does not necessarily need you to load up any other dictionaries aside from those that come bundled with Plover, but I would recommend that you download Di’s &lt;a href=&quot;https://github.com/didoesdigital/steno-dictionaries/blob/master/dictionaries/dict-en-AU-with-extra-stroke.json&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dict-en-AU-with-extra-stroke.json&lt;/code&gt; dictionary&lt;/a&gt; and add it to your list of default Plover dictionaries (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;user.json&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;commands.json&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main.json&lt;/code&gt; etc) so you can stroke these words with ease&lt;/li&gt; &lt;li&gt;If you cannot seem to get past a particular entry no matter what word you attempt to stroke, &lt;a href=&quot;https://sites.google.com/site/learnplover/lesson-3-english-sounds/fingerspelling&quot;&gt;fingerspelling&lt;/a&gt; the word will get you past it, and it will be logged as a successfully typed word in your progress&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Good luck in your steno adventures!&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="stenography"/><category term="keyboards"/><category term="ergodox"/><category term="mechanical-keyboards"/><category term="plover"/><summary type="html">So, am I a stenographer now, or what?</summary></entry><entry><title type="html">Internationalisation with Phoenix Live Layouts</title><link href="https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-layouts/" rel="alternate" type="text/html" title="Internationalisation with Phoenix Live Layouts"/><published>2020-02-03T17:00:00+11:00</published><updated>2020-11-01T22:00:00+11:00</updated><id>https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-layouts</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-layouts/">&lt;p&gt;This blog post is the third in a series on the creation of a small &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming&quot;&gt;I18n&lt;/a&gt; application using &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view&quot;&gt;Phoenix LiveView&lt;/a&gt;, which updates page content based on the language chosen from a dropdown menu:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/internationalisation-with-phoenix-liveview/&quot;&gt;Internationalisation with Phoenix LiveView&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;http://www.paulfioravanti.com/blog/internationalisation-with-phoenix-live-components/&quot;&gt;Internationalisation with Phoenix LiveComponents&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;Internationalisation with Phoenix Live Layouts&lt;/em&gt;&lt;/li&gt; &lt;/ol&gt; &lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/assets/images/2020-02-03/i18n-application.gif&quot; alt=&quot;I18n Application&quot; title=&quot;Internationalisation Application&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view/blob/master/CHANGELOG.md#050-2020-01-15&quot;&gt;LiveView version 0.5.0&lt;/a&gt; introduced &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html#module-live-layouts&quot;&gt;Live Layouts&lt;/a&gt;, a mechanism that allows LiveViews to move view-specific layout code into separate sub-layout files. This enables an individual LiveView’s template to nest itself within content that can dynamically update.&lt;/p&gt; &lt;p&gt;We will continue developing the application where we left off from the end of &lt;em&gt;&lt;a href=&quot;http://www.paulfioravanti.com/blog/internationalisation-with-phoenix-live-components/&quot;&gt;Internationalisation with Phoenix LiveComponents&lt;/a&gt;&lt;/em&gt;, which is its state on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/08-live-stateful-0-6&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;08-live-stateful-0-6&lt;/code&gt; branch&lt;/a&gt; of the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;phx_i18n_example&lt;/a&gt; Github repository. That branch does not use Live Layouts, so we will see what the issues are with &lt;em&gt;not&lt;/em&gt; using them, and then proceed to implement them.&lt;/p&gt; &lt;p&gt;If you do not have the repository already, just run these commands and it shall find its way to you:&lt;/p&gt; &lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone git@github.com:paulfioravanti/phx_i18n_example.git &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;phx_i18n_example git checkout 08-live-stateful-0-6 &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;blockquote&gt; &lt;p&gt;The software versions used for this version of the application are the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Elixir: 1.10.0&lt;/li&gt; &lt;li&gt;Erlang: 22.2.1&lt;/li&gt; &lt;li&gt;Phoenix: 1.4.12&lt;/li&gt; &lt;li&gt;Gettext: 0.17.4&lt;/li&gt; &lt;li&gt;LiveView: 0.6.0&lt;/li&gt; &lt;li&gt;Node: 13.6.0&lt;/li&gt; &lt;li&gt;Tachyons: 4.11.1&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;current-state-of-play&quot;&gt;Current State of Play&lt;/h2&gt; &lt;p&gt;There are three LiveViews in the application, each operating independently, containing their own &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html&quot;&gt;LiveComponent&lt;/a&gt;, and communicating with each other by &lt;a href=&quot;https://github.com/phoenixframework/phoenix_pubsub&quot;&gt;PubSub&lt;/a&gt; where needed:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-02-03/live-view-summary.jpg&quot; alt=&quot;LiveView Summary&quot; title=&quot;LiveView Summary&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; are live rendered from the (static) layout:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/layout/app.html.eex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;live_render&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TitleLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;session:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user_id&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;%= body() %&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;live_render&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;session:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user_id&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@view_module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@view_template&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;the-problem&quot;&gt;The Problem&lt;/h2&gt; &lt;p&gt;For the application in its current form, this presents no issue. However, what if we wanted to add another routed LiveView (a LiveView used from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;router.ex&lt;/code&gt;) to the application to complement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;? What if we wanted to have this new LiveView set its own page title, or what if its content did not need to be internationalised, and hence we would not need the language dropdown menu to display?&lt;/p&gt; &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app.html.eex&lt;/code&gt; file is the main layout template within which all other template content is embedded, which means that any new LiveView would not have any control over the content that surrounds its template code:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;its title would be set according to whatever &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; renders, rather than being able to provide its own page title logic&lt;/li&gt; &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; will always be rendered (meaning also that the new LiveView would have to unnecessarily implement handlers for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;change-locale&quot;&lt;/code&gt; events that the dropdown menu emits)&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;So, let’s set about giving our routed LiveView, in this case &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, more control over its surrounding content, starting with the page title.&lt;/p&gt; &lt;h2 id=&quot;liveview-controlled-page-title-updates&quot;&gt;LiveView-Controlled Page Title Updates&lt;/h2&gt; &lt;p&gt;With LiveView 0.5.0, &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html#module-updating-the-html-document-title&quot;&gt;updating the HTML document title&lt;/a&gt; of a page becomes possible through &lt;em&gt;specific use&lt;/em&gt; of an assigns variable called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@page_title&lt;/code&gt;. Normally, the content of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app.html.eex&lt;/code&gt;, or any non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.leex&lt;/code&gt; template, cannot be dynamically changed. But, Phoenix LiveView special-cases the page title, enabling a LiveView module to set the page title in &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html#c:mount/3&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Phoenix.LiveView.mount/3&lt;/code&gt;&lt;/a&gt;, and update it in any event handling callback functions.&lt;/p&gt; &lt;p&gt;So, in the layout, let’s switch out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@page_title&lt;/code&gt;:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/layout/app.html.eex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@page_title&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Now, in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, let’s initialise the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;page_title&lt;/code&gt; assigns in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mount/3&lt;/code&gt;, and update its value when the locale changes (ie we receive an external &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;change-locale&quot;&lt;/code&gt; PubSub message):&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@title&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Multilingualisation in Phoenix&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user_id&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;page_title:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;page_title:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with_locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;You should now see that the application continues to work as expected.&lt;/p&gt; &lt;p&gt;Just by virtue of setting and updating the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;page_title&lt;/code&gt; assigns value, Phoenix does all the heavy lifting of dynamically updating the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@page_title&lt;/code&gt; module attribute. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; now has complete control over the page title when its template is rendered, which means the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveComponent&lt;/code&gt; modules have become completely obsolete. So, we can reduce our maintenance burden by removing them entirely. Hurray!&lt;/p&gt; &lt;h2 id=&quot;live-layouts&quot;&gt;Live Layouts&lt;/h2&gt; &lt;p&gt;Let’s now move our focus over to enabling LiveViews to choose whether they want to display a language selection dropdown menu or not, by extracting code for it into a separate layout.&lt;/p&gt; &lt;p&gt;We will start by removing the call to live render the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; from the main layout’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; tag:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/layout/app.html.eex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;%= body() %&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@view_module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@view_template&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;That code will now go directly inside a new page Live Layout file (note the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.leex&lt;/code&gt; filename):&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/layout/page.html.leex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;live_render&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:language_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;session:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user_id&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@live_view_module&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;In this case, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@live_view_module&lt;/code&gt; attribute refers to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; module.&lt;/p&gt; &lt;p&gt;Now, we need to specify that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; will be using this layout to wrap its template content:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LayoutView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;layout:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LayoutView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;page.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Note that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LayoutView&lt;/code&gt; is doing double-duty here as the view file for &lt;em&gt;both&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app.html.eex&lt;/code&gt; &lt;em&gt;and&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;page.html.leex&lt;/code&gt;. If we were to extract the template code inline with the view code, it would look like this (also note the differences in sigils used; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~E&lt;/code&gt; for standard embedded Elixir templates vs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~L&lt;/code&gt; for LiveView templates):&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/views/layout_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LayoutView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LayoutStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defdelegate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;to:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LayoutStyle&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;app.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~E&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;!DOCTYPE html&amp;gt; &amp;lt;html lang=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&amp;gt; &amp;lt;meta http-equiv=&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;UA&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Compatible&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; content=&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;IE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;edge&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&amp;gt; &amp;lt;meta name=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; content=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;initial&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&amp;gt; &amp;lt;%= csrf_meta_tag() %&amp;gt; &amp;lt;title&amp;gt;&amp;lt;%= @page_title %&amp;gt;&amp;lt;/title&amp;gt; &amp;lt;link rel=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stylesheet&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; href=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Routes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;static_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/css/app.css&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&amp;gt; &amp;lt;script type=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;javascript&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; src=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Routes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;static_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/js/app.js&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt; &amp;lt;/script&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body class=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt; &amp;lt;%= render @view_module, @view_template, assigns %&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;page.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_render @socket, LanguageDropdownLiveView, id: :language_dropdown, session: %{&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; =&amp;gt; @locale, &quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; =&amp;gt; @user_id} %&amp;gt; &amp;lt;main role=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt; &amp;lt;%= @live_view_module.render(assigns) %&amp;gt; &amp;lt;/main&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;The layout code extraction is now complete, and the application works as expected! Or, at least I thought it did, until I tried out the specific use case of opening the language dropdown menu, and then clicking the text on the page, which closes it:&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-02-03/live-layout-issue.gif&quot; alt=&quot;Live Layout Issue&quot; title=&quot;Live Layout Issue&quot; /&gt;&lt;/p&gt; &lt;p&gt;Looks like there is a glitch in the LiveView Matrix… Why is the open language dropdown menu disappearing momentarily before re-appearing closed? Ultimately, all we did was cut code from one file, and paste it in another…right?&lt;/p&gt; &lt;p&gt;Although I’m not entirely sure of the specifics, it looks like perhaps the communication processes via PubSub between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DropdownLanguageLiveView&lt;/code&gt; are clobbering each other, and thus a re-think of how these two LiveViews and their LiveComponents talk to each other is in order, as well as deciding whether all these LiveView modules are even needed at all.&lt;/p&gt; &lt;h2 id=&quot;too-many-liveviews&quot;&gt;Too Many LiveViews?&lt;/h2&gt; &lt;p&gt;Each of the LiveViews we had in the application at the beginning of this blog post, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, were like isolated islands, functionality-wise.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-02-03/live-view-summary.jpg&quot; alt=&quot;LiveView Summary&quot; title=&quot;LiveView Summary&quot; /&gt;&lt;/p&gt; &lt;p&gt;There was no coupling between any of them; naturally, there was coupling between parent LiveViews and their child LiveComponents, but not between the LiveViews themselves.&lt;/p&gt; &lt;p&gt;With the introduction of Live Layouts, this has changed: now, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, as well as being the parent of its own &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt;, is also, via the Live Layout, the parent of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt;, which renders &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/images/2020-02-03/live-view-component-summary.jpg&quot; alt=&quot;LiveView Component Summary&quot; title=&quot;LiveView Component Summary&quot; /&gt;&lt;/p&gt; &lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; gone, the only place that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt; needs to notify about locale changes is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, its “grandparent”. Similarly, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; would only seem to exist to let its child, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt;, know about any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; messages that it receives.&lt;/p&gt; &lt;p&gt;Given that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; messages come from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt;, wouldn’t it be easier, and maybe less message-clobbery, to:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;get rid of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; middleman&lt;/li&gt; &lt;li&gt;let &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt; be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;’s child, rather than grandchild&lt;/li&gt; &lt;li&gt;have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt; talk to each other as siblings through &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;?&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Let’s find out!&lt;/p&gt; &lt;h2 id=&quot;family-tree-engineering&quot;&gt;Family Tree Engineering&lt;/h2&gt; &lt;p&gt;Okay, first thing’s first, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; is now &lt;em&gt;gone&lt;/em&gt;. What do we need to do to get this working again? Let’s start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;’s Live Layout, which now needs to directly render &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt;:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/views/layout_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LayoutView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LayoutStyle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/layout/page.html.leex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;live_component&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:language_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@user_id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@live_view_module&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Now, in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt;, whenever we get a local &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;locale-changed&quot;&lt;/code&gt; event, rather than blast out a PubSub message, we instead want to send that message to the now-direct parent, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/language_dropdown_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locales&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;known_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale-changed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:change_locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update_locale_changed_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Note here that because the LiveComponent and the LiveView run in the same process, sending a message to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self()&lt;/code&gt; &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-liveview-as-the-source-of-truth&quot;&gt;sends the message from the component to the parent LiveView&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;While we are purging PubSub message passing, let’s go next to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;’s other child, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt;, and perform a similar refactor for when it receives &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; messages:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/page_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:hide_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;All message-passing from child LiveComponents to parent LiveViews is now being done without PubSub. Finally, we need to make changes in the parent &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; to swap any PubSub-related subscription and message-handling code for taking messages directly from children:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LayoutView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;user_id&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;page_title:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:hide_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:language_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;show_available_locales:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:change_locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;page_title:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;page_title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Notice that in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handle_info/2&lt;/code&gt; functions, the parameters are now atoms or tuples, and not the maps (eg &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%{event: &quot;change-locale&quot;, payload: %{locale: locale}}&lt;/code&gt;) that we had before.&lt;/p&gt; &lt;p&gt;The application should now be flicker-less when hiding an open dropdown by clicking the page.&lt;/p&gt; &lt;p&gt;You can find the code for this iteration of the application in this post’s &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;companion Github repo&lt;/a&gt; on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/09-live-layout&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;09-live-layout&lt;/code&gt; branch&lt;/a&gt;. The branch is also deployed &lt;a href=&quot;https://phx-i18n-09-live-layout.herokuapp.com/&quot;&gt;here&lt;/a&gt; in its own environment.&lt;/p&gt; &lt;h2 id=&quot;wrapping-up&quot;&gt;Wrapping Up&lt;/h2&gt; &lt;p&gt;The use of Live Layouts, even in this small application, has affected its architecture greatly. It has been interesting, at least for myself as the author, to have seen the codebase expand initially with lots of LiveViews and LiveComponents, and now contract back as we purge half of them away.&lt;/p&gt; &lt;p&gt;Deleted code is the easiest kind to maintain, though, so I do not mourn for it. Rather, I think it’s great that Live Layouts have enabled more flexibility in architecting LiveView functionality, and I look forward to using them more moving forward!&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="elixir"/><category term="phoenix"/><category term="liveview"/><category term="live-components"/><category term="live-layout"/><category term="i18n"/><category term="japanese"/><category term="italian"/><category term="日本語"/><category term="italiano"/><summary type="html">Phoenix layouts are now live-powered, giving LiveViews more flexibility and control over a template&apos;s surrounding content.</summary></entry><entry><title type="html">Internationalisation with Phoenix LiveComponents</title><link href="https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-components/" rel="alternate" type="text/html" title="Internationalisation with Phoenix LiveComponents"/><published>2020-01-27T10:00:00+11:00</published><updated>2020-11-01T22:00:00+11:00</updated><id>https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-components</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/internationalisation-phoenix-live-components/">&lt;p&gt;This blog post is the second in a series on the creation of a small &lt;a href=&quot;https://en.wikipedia.org/wiki/Internationalization_and_localization#Naming&quot;&gt;I18n&lt;/a&gt; application using &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view&quot;&gt;Phoenix LiveView&lt;/a&gt;, which updates page content based on the language chosen from a dropdown menu:&lt;/p&gt; &lt;ol&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/internationalisation-with-phoenix-liveview/&quot;&gt;Internationalisation with Phoenix LiveView&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;Internationalisation with Phoenix LiveComponents&lt;/em&gt;&lt;/li&gt; &lt;li&gt;&lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/internationalisation-with-phoenix-live-layouts/&quot;&gt;Internationalisation with Phoenix Live Layouts&lt;/a&gt;&lt;/em&gt;&lt;/li&gt; &lt;/ol&gt; &lt;p style=&quot;text-align: center;&quot;&gt;&lt;img src=&quot;/assets/images/2020-01-27/i18n-application.gif&quot; alt=&quot;I18n Application&quot; title=&quot;Internationalisation Application&quot; /&gt;&lt;/p&gt; &lt;p&gt;Development on LiveView is currently proceeding at a cracking pace, and one of the newer additions to it is the ability to “compartmentalize state, markup, and events in LiveView” using &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html&quot;&gt;LiveComponent&lt;/a&gt;. So, let’s introduce LiveComponents to the application, and see what effect it has on the codebase.&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;The software versions used for this version of the application have changed slightly, and are now the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Elixir: 1.9.4&lt;/li&gt; &lt;li&gt;Erlang: 22.2.1&lt;/li&gt; &lt;li&gt;Phoenix: 1.4.11&lt;/li&gt; &lt;li&gt;Gettext: 0.17.4&lt;/li&gt; &lt;li&gt;LiveView: 0.4.1&lt;/li&gt; &lt;li&gt;Node: 13.6.0&lt;/li&gt; &lt;li&gt;Tachyons: 4.11.1&lt;/li&gt; &lt;/ul&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;current-state-of-play&quot;&gt;Current State of Play&lt;/h2&gt; &lt;p&gt;We are going to pick the application up where we left off from the end of &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/internationalisation-with-phoenix-liveview/&quot;&gt;Internationalisation with Phoenix LiveView&lt;/a&gt;&lt;/em&gt;, which is its state on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/05-liveview-fix&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;05-liveview-fix&lt;/code&gt; branch&lt;/a&gt; of the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;phx_i18n_example&lt;/a&gt; Github repository. So, if you do not have the repository already, just run these commands and the internet shall provide it to you:&lt;/p&gt; &lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone git@github.com:paulfioravanti/phx_i18n_example.git &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;phx_i18n_example git checkout 05-liveview-fix &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;housekeeping&quot;&gt;Housekeeping&lt;/h2&gt; &lt;h3 id=&quot;upgrading-dependencies&quot;&gt;Upgrading dependencies&lt;/h3&gt; &lt;p&gt;Before beginning, we will need to upgrade the version of LiveView being used in the application from 0.3.1 to 0.4.1:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mix.exs&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExample&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;MixProject&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deps&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:phoenix_live_view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~&amp;gt; 0.4.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Then, upgrade the Elixir dependencies with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mix&lt;/code&gt;:&lt;/p&gt; &lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mix deps.upgrade &lt;span class=&quot;nt&quot;&gt;--all&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Updating Javascript asset dependencies should not be an issue for introducing LiveComponents, but if you do find you have front end issues, or you just need to have all the latest packages all the time, then by all means, check what’s outdated and update to your heart’s content:&lt;/p&gt; &lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm outdated &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt; assets &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h3 id=&quot;enabling-livecomponent-functions&quot;&gt;Enabling LiveComponent Functions&lt;/h3&gt; &lt;p&gt;In order to use LiveComponents from LiveViews, we are going to need access to the &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.Helpers.html#live_component/4&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Phoenix.LiveView.Helpers.live_component/4&lt;/code&gt;&lt;/a&gt; function (and its lower &lt;a href=&quot;https://en.wikipedia.org/wiki/Arity&quot;&gt;arity&lt;/a&gt; cousins), so add it to the list of LiveView-related imports:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;quote&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_render:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_render:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_link:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_link:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_component:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_component:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;live_component:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h3 id=&quot;file-structure-and-naming-changes&quot;&gt;File Structure and Naming Changes&lt;/h3&gt; &lt;p&gt;It would seem that there has been an informal(?) convention to name LiveView files with a pattern of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FooLive&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BarLive&lt;/code&gt;, and place them inside a directory called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live/&lt;/code&gt; directly under the Phoenix application &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;web/&lt;/code&gt; directory. The application currently follows this convention.&lt;/p&gt; &lt;p&gt;However, with the advent of LiveComponents, we now have more than one type of “LiveThing”, with the likely potential for more “LiveThings” in the future. So, in the absence of any set conventions, we shall:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Move all LiveView files under a new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live/views/&lt;/code&gt; directory&lt;/li&gt; &lt;li&gt;Re-name all LiveView files from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FooLive&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FooLiveView&lt;/code&gt;, and change all of their references throughout the application (specifically, do search and replaces for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLive&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLive&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLive&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;)&lt;/li&gt; &lt;li&gt;Create an empty &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live/components/&lt;/code&gt; directory to store LiveComponent files&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Once you have done that, check to see that the application still runs without error, and you will be ready to start the actual fun component-y stuff!&lt;/p&gt; &lt;h2 id=&quot;livecomponent-flavours&quot;&gt;LiveComponent Flavours&lt;/h2&gt; &lt;p&gt;There are two different officially-named types of LiveComponents: Stateless and Stateful.&lt;/p&gt; &lt;p&gt;Personally, I find this naming quite confusing as both types of component do hold some kind of state, and the difference would seem to lie rather in the &lt;em&gt;degree of independence&lt;/em&gt; that the LiveComponent has from its parent LiveView in updating its state, handling messages etc:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Stateless, in diapers, is completely dependent on its parent for any changes&lt;/li&gt; &lt;li&gt;Stateful is moved out of home, doing most things independently, but occasionally needs help from its parent for things it cannot do&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Anyway, regardless of my opinions about the current naming, use of shared language is important to convey information coherently, so Stateless and Stateful it is.&lt;/p&gt; &lt;h2 id=&quot;update-to-stateless-component&quot;&gt;Update to Stateless Component&lt;/h2&gt; &lt;p&gt;Let’s first update the LiveViews to &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-stateless-components-life-cycle&quot;&gt;Stateless Components&lt;/a&gt;, starting with the one that has the least amount of logic in it: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;It is currently responsible for:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Setting up a subscription to locale-change messages, so it knows when it should change languages, and then handling those locale-change events&lt;/li&gt; &lt;li&gt;Keeping track of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locale&lt;/code&gt; in its &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt;&lt;/li&gt; &lt;li&gt;Rendering a LiveView template, in this case inline&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;At present, the code looks like this:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/title_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TitleLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;gettext:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;with_locale:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= with_locale(@locale, fn -&amp;gt; %&amp;gt; &amp;lt;title&amp;gt; &amp;lt;%= gettext(&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Multilingualisation&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;) %&amp;gt; &amp;lt;/title&amp;gt; &amp;lt;% end) %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;In introducing a stateless component, we are not interested in giving the component very much agency or responsibility: we just want to offload view-related functionality to it, and have it render the inline template. So, let’s extract out some code into our first new LiveComponent!&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/title_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TitleLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;gettext:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;only:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;with_locale:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= with_locale(@locale, fn -&amp;gt; %&amp;gt; &amp;lt;title&amp;gt; &amp;lt;%= gettext(&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Multilingualisation&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;) %&amp;gt; &amp;lt;/title&amp;gt; &amp;lt;% end) %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Not much to it, is there? Every component &lt;em&gt;does&lt;/em&gt; actually require a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mount/1&lt;/code&gt; and an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update/2&lt;/code&gt; function, but LiveComponent provides default implementations of those functions that look something like this:&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;If any finer-grained control over mounting and updating is needed, these functions would need to be overridden, but for this LiveComponent, the defaults work just fine.&lt;/p&gt; &lt;p&gt;Back in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, we make a call out to &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.Helpers.html#live_component/4&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt;&lt;/a&gt; to spawn off the child LiveComponent:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/title_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TitleLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TitleLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, TitleLiveComponent, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;a-quick-detour&quot;&gt;A Quick Detour&lt;/h2&gt; &lt;p&gt;A few things initially confused me as I was implementing this.&lt;/p&gt; &lt;p&gt;I thought that because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locale&lt;/code&gt; had already been assigned to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt; belonging to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mount/2&lt;/code&gt;, it would flow through automatically to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@socket&lt;/code&gt; that gets passed into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt; function. This is because if you inspect the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@socket&lt;/code&gt; in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;render/1&lt;/code&gt; function like so:&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;% IO.inspect(@socket) %&amp;gt; &amp;lt;%= live_component @socket, TitleLiveComponent, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;The output you get is:&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#Phoenix.LiveView.Socket&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;assigns:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;en&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mlZvNkbr/5DxyM9hq2TS0w==&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;changed:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;endpoint:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;phx-VwPm6nt2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;parent_pid:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;view:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;So, I would have thought that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assigns&lt;/code&gt; would carry through to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveComponent&lt;/code&gt;, but when I overrode the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mount/1&lt;/code&gt; function there to inspect the state of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt; like so:&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;IO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;The output was:&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#Phoenix.LiveView.Socket&amp;lt;&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;assigns:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;changed:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;endpoint:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;phx-VwPm6nt2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;parent_pid:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;view:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;The information in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assigns&lt;/code&gt; disappears…? But the socket &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;phx-VwPm6nt2&quot;&lt;/code&gt; in this case) is the same in the LiveView and the LiveComponent! What happened here? This is when a part of the &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.Helpers.html#live_component/4&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt; documentation&lt;/a&gt; finally clicked:&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;“A LiveComponent provides similar functionality to LiveView, except they run in the same process as the LiveView, with its own encapsulated state”&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;So, if my understanding is correct, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt; for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt; is the same since it is the same process, but the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assigns&lt;/code&gt; states of the LiveView and LiveComponent are isolated from each other, and we essentially get a “blank slate” socket &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assigns&lt;/code&gt; in the LiveComponent.&lt;/p&gt; &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;assigns&lt;/code&gt; values we pass in to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt; function (in this case &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locale: @locale&lt;/code&gt;), become available to us in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update/2&lt;/code&gt; (which the parent LiveView will call during the initialisation process), where we can then assign them to the LiveComponent &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;socket&lt;/code&gt;.&lt;/p&gt; &lt;h2 id=&quot;finishing-up-stateless&quot;&gt;Finishing Up Stateless&lt;/h2&gt; &lt;p&gt;Now that we have cleared up some LiveComponent socket-related gotchas, let’s finish up porting over the remaining two LiveViews to use Stateless components. The way we will do this will be very similar to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, with the content in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;render/1&lt;/code&gt; functions being extracted out into LiveComponents:&lt;/p&gt; &lt;h3 id=&quot;languagedropdownliveview&quot;&gt;LanguageDropdownLiveView&lt;/h3&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/language_dropdown_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Before:&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;language_dropdown.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;After:&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, LanguageDropdownLiveComponent, locale: @locale, selectable_locales: @selectable_locales, show_available_locales: @show_available_locales %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/language_dropdown_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;language_dropdown.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h3 id=&quot;pageliveview&quot;&gt;PageLiveView&lt;/h3&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Before:&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;After:&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, PageLiveComponent, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/page_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;And that’s it! The application is now using Stateless LiveComponents!&lt;/p&gt; &lt;p&gt;You can find the code for this iteration of the application in this post’s &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;companion Github repo&lt;/a&gt; on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/06-live-stateless&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;06-live-stateless&lt;/code&gt; branch&lt;/a&gt;. The branch is also deployed &lt;a href=&quot;https://phx-i18n-06-live-stateless.herokuapp.com/&quot;&gt;here&lt;/a&gt; in its own environment.&lt;/p&gt; &lt;h2 id=&quot;optional-refactor&quot;&gt;Optional Refactor&lt;/h2&gt; &lt;p&gt;Before we move on to stateful components, I would just like to bring up that if you do not like to have inline LiveView templates (aka Live Embedded Elixir (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;leex&lt;/code&gt;), ie &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~L&quot;&quot;&quot;&lt;/code&gt; code) in &lt;em&gt;any&lt;/em&gt; of your LiveViews, then it is possible to refactor them out completely into separate files. For example, in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, our &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;render/1&lt;/code&gt; function looks like:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, PageLiveComponent, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Rather than have this inline template, we &lt;em&gt;could&lt;/em&gt; refactor this into something like the following:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveViewView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveViewView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;component.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;And then create a new view and template to call the component:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/views/page_live_view_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveViewView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:view&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/templates/page_live_view/component.html.leex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;%=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;live_component&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;This refactor works, but, to me at least, it just feels awkward to have such few lines of code spread out over multiple files, not to mention the even more awkward &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveViewView&lt;/code&gt; naming.&lt;/p&gt; &lt;p&gt;I do like having longer templates in their own file, with their own dedicated view file, but for a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt; one-liner like this, I think inline is fine. But, your mileage may vary, and by all means use your best judgement to determine if this kind of refactor is to your benefit or liking.&lt;/p&gt; &lt;h2 id=&quot;update-to-stateful-components&quot;&gt;Update to Stateful Components&lt;/h2&gt; &lt;p&gt;Now, we will move on to giving our LiveComponents more responsibility for managing their own state, by making them &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-stateful-components-life-cycle&quot;&gt;Stateful Components&lt;/a&gt;. Like before, let’s start with the least complex LiveView/LiveComponent set for the page title. Here is the finished product:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/title_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TitleLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;TitleLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, TitleLiveComponent, id: :title, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;No, your eyes do not deceive you: literally the only change from before has been the addition of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id: title&lt;/code&gt; keyword argument in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt; function call. No changes to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveComponent&lt;/code&gt; were necessary. And now it is stateful.&lt;/p&gt; &lt;p&gt;If you are thinking that this does not really represent a change in responsibilities of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveComponent&lt;/code&gt;, you would be absolutely correct.&lt;/p&gt; &lt;p&gt;Although I would very much like to allow the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveComponent&lt;/code&gt; to receive and handle &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;change-locale&quot;&lt;/code&gt; messages, &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-livecomponent-as-the-source-of-truth&quot;&gt;“components do not have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handle_info/2&lt;/code&gt; callback”&lt;/a&gt;, and so this is one of the areas where a stateful LiveComponent must depend on its parent.&lt;/p&gt; &lt;p&gt;Technically, we could have moved the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Endpoint.subscribe/1&lt;/code&gt; function call into the LiveComponent, and it would have worked, but I think the demarcation lines of responsibility are clearer if we say that the parent LiveView is entirely responsible for handling external &lt;a href=&quot;https://github.com/phoenixframework/phoenix_pubsub&quot;&gt;PubSub&lt;/a&gt; communication.&lt;/p&gt; &lt;p&gt;Therefore, for this particular LiveView/LiveComponent set, there is probably not much value in making it Stateful.&lt;/p&gt; &lt;h2 id=&quot;moving-on&quot;&gt;Moving on&lt;/h2&gt; &lt;p&gt;So, that was rather anti-climactic. Let’s move on to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt; where we will hopefully have more luck with making at least some consequential changes. Currently, it looks like:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dropdown-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, PageLiveComponent, locale: @locale %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broadcast_from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, there is some external PubSub message handling here around &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;change-locale&quot;&lt;/code&gt; events that we need to leave in the parent LiveView, but handling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; events is definitely something that a LiveComponent can perform, so let’s extract the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handle_event/3&lt;/code&gt; code out to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt;:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/page_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dropdown-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broadcast_from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Great! The LiveComponent is now broadcasting out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; messages if it, itself, receives a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; event. This extraction leaves the parent LiveView with slightly less code, and one less thing to worry about:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/page_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, PageLiveComponent, id: :page, locale: @locale, user_id: @user_id %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;payload:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PageLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Note that as opposed to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TitleLiveView&lt;/code&gt;, in which we only passed the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@locale&lt;/code&gt; parameter into the call to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live_component&lt;/code&gt;, in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveView&lt;/code&gt;, we are also passing through the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@user_id&lt;/code&gt;, since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PageLiveComponent&lt;/code&gt; needs it to perform the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;hide-dropdown&quot;&lt;/code&gt; broadcasts. Parent LiveViews can keep a tight leash on what information child LiveComponents need to know about.&lt;/p&gt; &lt;h2 id=&quot;filial-piety&quot;&gt;Filial Piety&lt;/h2&gt; &lt;p&gt;We have been taking baby-steps towards LiveComponent independence, but now it’s time to take a bigger step: let’s move on to the busiest LiveView in the application, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt;, and see how much we can lighten its load. Currently, it does quite a lot:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/language_dropdown_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locales&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;known_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dropdown-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, LanguageDropdownLiveComponent, locale: @locale, selectable_locales: @selectable_locales, show_available_locales: @show_available_locales %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hide&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;!socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show_available_locales&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale-changed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broadcast_from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selectable_locales&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;selectable_locales:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selectable_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;show_available_locales:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;Like the other LiveViews, there is external PubSub communication that we must keep as-is, but I would say &lt;em&gt;every other function&lt;/em&gt; can be shipped out wholesale to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt;, lightening &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt;’s load considerably:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/views/language_dropdown_live_view.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveView&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveView&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dropdown-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@dropdown_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;user_id:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;~L&quot;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; &amp;lt;%= live_component @socket, LanguageDropdownLiveComponent, id: :language_dropdown, locale: @locale, user_id: @user_id %&amp;gt; &quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;event:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hide-dropdown&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;send_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;id:&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:language_dropdown&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;show_available_locales:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;It now does not need to worry about setting up internal state for the dropdown menu, nor handle any of its events. It does still continue to handle external PubSub messages, but it completely delegates responsibility of what action should be performed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveComponent&lt;/code&gt; via the &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html#send_update/2&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;send_update/2&lt;/code&gt;&lt;/a&gt; function.&lt;/p&gt; &lt;p&gt;So, let’s see where all that logic has gone:&lt;/p&gt; &lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/phx_i18n_example_web/live/components/language_dropdown_live_component.ex&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt; &lt;div class=&quot;language-elixir highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;defmodule&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LanguageDropdownLiveComponent&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Phoenix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;LiveComponent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locales&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;known_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;PhxI18nExampleWeb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Gettext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;locale-changes:&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;show_available_locales:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LanguageDropdownView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;language_dropdown.html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hide&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:show_available_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;!socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show_available_locales&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale-changed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;locale&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Endpoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broadcast_from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;@locale_changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;change-locale&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update_locale_changed_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:noreply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;socket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update_locale_changed_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;assigns&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(%{&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;defp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;init_dropdown_state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selectable_locales&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;@locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;selectable_locales:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selectable_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;show_available_locales:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;The LiveComponent now has responsibilities over:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Manually handling updating its state by overriding the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update/2&lt;/code&gt; function, since the LiveComponent default implementation does not cut it any more&lt;/li&gt; &lt;li&gt;Handling the two different flavours of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update&lt;/code&gt; that the component needs to know about (via the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;update&lt;/code&gt; function heads), which are: &lt;ul&gt; &lt;li&gt;when the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locale&lt;/code&gt; is updated, upon which it needs to re-initialise its state (which, by the by, the parent LiveView does not need to know anything about)&lt;/li&gt; &lt;li&gt;when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;show_available_locales&lt;/code&gt; is explicitly set to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt; (ie from when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LanguageDropdownLiveView&lt;/code&gt; calls &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;send_update/2&lt;/code&gt;), at which point the menu needs to be hidden&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt;Handling &lt;em&gt;all&lt;/em&gt; its local events&lt;/li&gt; &lt;li&gt;Broadcasting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;change-locale&quot;&lt;/code&gt; messages when it gets a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;locale-changed&quot;&lt;/code&gt; message&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Easily the most independent of the three LiveComponents in the application.&lt;/p&gt; &lt;p&gt;You can find the code for this iteration of the application in this post’s &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;companion Github repo&lt;/a&gt; on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/07-live-stateful&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;07-live-stateful&lt;/code&gt; branch&lt;/a&gt;. The branch is also deployed &lt;a href=&quot;https://phx-i18n-07-live-stateful.herokuapp.com/&quot;&gt;here&lt;/a&gt; in its own environment.&lt;/p&gt; &lt;h2 id=&quot;stateless-or-stateful&quot;&gt;Stateless or Stateful?&lt;/h2&gt; &lt;p&gt;In this application, I think the benefits of using Stateless versus Stateful LiveComponents are largely subjective, and really depend on personal preferences about how to divide up logic between LiveViews and LiveComponents.&lt;/p&gt; &lt;p&gt;If you have an application that has more moving parts and complexity, like fetching from a database to populate multiple LiveComponents on a page, in which you may need to consider &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-preloading-and-update&quot;&gt;preloading&lt;/a&gt; using &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#c:preload/1&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;preload/1&lt;/code&gt;&lt;/a&gt; (not covered in this blog post), then the decision to specifically use Stateful components may become clearer.&lt;/p&gt; &lt;p&gt;Regardless of your preferred flavour of LiveComponent, I think they are a welcome addition to the Phoenix’s Live Toolbox, and I’m sure I will be making more use of them in the future.&lt;/p&gt; &lt;h2 id=&quot;update-29-01-2020&quot;&gt;Update (29-01-2020)&lt;/h2&gt; &lt;p&gt;Well, the cracking pace of development on new libraries like LiveView can mean that even minor version changes can result in having the rug pulled out from under you, and this application is no exception.&lt;/p&gt; &lt;p&gt;On updating the application to LiveView &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view/blob/master/CHANGELOG.md#deprecations&quot;&gt;version 0.6.0&lt;/a&gt;, everything stopped working, and my LiveComponents mysteriously stopped handling events.&lt;/p&gt; &lt;p&gt;If you are following along, &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/compare/07-live-stateful...08-live-stateful-0-6&quot;&gt;here is the diff&lt;/a&gt; between the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/07-live-stateful&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;07-live-stateful&lt;/code&gt; branch&lt;/a&gt; you have already seen, and a new &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/08-live-stateful-0-6&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;08-live-stateful-0-6&lt;/code&gt; branch&lt;/a&gt;, all updated and working with LiveView 0.6.0 (with a couple of small refactors).&lt;/p&gt; &lt;p&gt;It is not worth going into the deep details of how to upgrade, since I think the diff, as well as the &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view/blob/924fe4aa53e690751cdc063883a356b7c8165f08/guides/introduction/installation.md&quot;&gt;LiveView 0.6 Installation instructions&lt;/a&gt; and the &lt;a href=&quot;https://github.com/phoenixframework/phoenix_live_view/blob/master/CHANGELOG.md#deprecations&quot;&gt;Changelog&lt;/a&gt;, provide enough information, but I will outline a few points:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;The socket &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;session&lt;/code&gt; now accepts only string keys. This affected code in Plugs as well as LiveViews. It does seem a bit strange now to have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Conn.assign(:locale, locale)&lt;/code&gt; with an atom key, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Conn.put_session(&quot;locale&quot;, locale)&lt;/code&gt; with a string key&lt;/li&gt; &lt;li&gt;I think it’s great that any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;session&lt;/code&gt; variables set in plugs are available automatically in LiveViews now, without having to explicitly indicate a set of session keys in the route. (eg &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live &quot;/&quot;, PageLiveView, session: [:locale, :user_id]&lt;/code&gt;). You could explicitly override values here using a map, though, if you wanted to (eg &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;live &quot;/&quot;, PageLiveView, session: %{&quot;locale&quot; =&amp;gt; &quot;en&quot;}&lt;/code&gt;)&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-targeting-component-events&quot;&gt;Targeting Component Events&lt;/a&gt; is where the Stateful LiveComponent trip ups occurred. With 0.6.0, if template code managed by a LiveComponent does not have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;phx-target&lt;/code&gt; attribute, then the LiveComponent’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handle_event/3&lt;/code&gt; function that previously may have worked will now &lt;em&gt;not&lt;/em&gt; pick up the event, and instead event handling will go straight to the parent LiveView. In this case, I got an error complaining that I did not have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;handle_event/3&lt;/code&gt; implementations in the LiveView to handle the events that it was receiving. See the &lt;a href=&quot;https://hexdocs.pm/phoenix_live_view/Phoenix.LiveComponent.html#module-targeting-component-events&quot;&gt;Targeting Component Events&lt;/a&gt; documentation and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.eex&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.leex&lt;/code&gt; template files in &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/compare/07-live-stateful...08-live-stateful-0-6&quot;&gt;the diff&lt;/a&gt; for details on getting your Stateful LiveComponents back on the job of handling events&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;You can find the code for this iteration of the application in this post’s &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example&quot;&gt;companion Github repo&lt;/a&gt; on the &lt;a href=&quot;https://github.com/paulfioravanti/phx_i18n_example/tree/08-live-stateful-0-6&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;08-live-stateful-0-6&lt;/code&gt; branch&lt;/a&gt;. The branch is also deployed &lt;a href=&quot;https://phx-i18n-08-live-stateful-0-6.herokuapp.com/&quot;&gt;here&lt;/a&gt; in its own environment.&lt;/p&gt; &lt;p&gt;Follow the next steps of this application’s journey in &lt;em&gt;&lt;a href=&quot;https://www.paulfioravanti.com/blog/internationalisation-with-phoenix-live-layouts/&quot;&gt;Internationalisation with Phoenix Live Layouts&lt;/a&gt;&lt;/em&gt;!&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="elixir"/><category term="phoenix"/><category term="liveview"/><category term="live-components"/><category term="i18n"/><category term="japanese"/><category term="italian"/><category term="日本語"/><category term="italiano"/><summary type="html">Draw the responsibility demarcation lines between your LiveView-managed state, markup, and events with LiveComponents.</summary></entry><entry><title type="html">Employee Sans Office</title><link href="https://www.paulfioravanti.com/blog/employee-sans-office/" rel="alternate" type="text/html" title="Employee Sans Office"/><published>2020-01-08T16:45:00+11:00</published><updated>2020-11-26T16:48:00+11:00</updated><id>https://www.paulfioravanti.com/blog/employee-sans-office</id><content type="html" xml:base="https://www.paulfioravanti.com/blog/employee-sans-office/">&lt;blockquote&gt; &lt;p&gt;I originally wrote this blog post for &lt;a href=&quot;http://remotebase.io/&quot;&gt;RemoteBase&lt;/a&gt; on December 15, 2016. It seems that RemoteBase shut down in 2018, and since my thoughts on remote working have not changed, I figure this post can now live on the internet here.&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;I’m a company employee, but I can’t go to my office, even for a visit. It simply doesn’t exist.&lt;/p&gt; &lt;p&gt;At &lt;a href=&quot;https://reinteractive.com/&quot;&gt;reinteractive&lt;/a&gt;, a digital consultancy, “remote-first” is trumped by “remote-only”: all employees, regardless of their role in the organisation, work remotely. Our team chat software is the virtual roof that houses us, and it is our primary method of communication, both internally and with our clients.&lt;/p&gt; &lt;p&gt;Before starting at reinteractive, I had worked at other technology companies where very occasional remote work was permitted, but it was generally outside of the norm, and the principal mindsets were that work was done at the workplace. Now, all my work is done wherever I can use my laptop and get a 4G signal: my physical location is completely detached from the work output I provide.&lt;/p&gt; &lt;h2 id=&quot;remote-mindset&quot;&gt;Remote mindset&lt;/h2&gt; &lt;p&gt;Changing to the remote-style of long term full time work did require a transition period for me in order to find a work rhythm that I was comfortable with.&lt;/p&gt; &lt;p&gt;The first issue that I had was how to convince myself that I was “at work”, when I was physically at home. Previously, getting from a “home” to a “work” mindset involved lots of different unconscious triggers over a period of time: putting on “workplace clothes”, physically leaving my home, commuting, entering an office, and seeing and interacting with people that I associate with work.&lt;/p&gt; &lt;p&gt;All that was gone: what I wear is irrelevant, the commute is ten steps to a desk, and at home there’s no one else around. I had to find a new trigger, and for me this was our team chat software. When it’s open, and I say “good morning” to my team, then I’m at work. When I’m done with work for the day, say “good night”, and close team chat, then my desk magically stops being for work, and becomes my personal desk. Doing this every day eventually made it routine, and hence easier to switch between the mindsets as time went by.&lt;/p&gt; &lt;h2 id=&quot;proving-you-exist&quot;&gt;Proving you exist&lt;/h2&gt; &lt;p&gt;When you’re working with a team or for a client on-site, then you’re assumed to be doing your job by anyone that can physically see you, because otherwise why else would you be there? When your team only knows you as text/video on a screen, and there is no constant visual feedback for them that tells them you are working, I’ve found that I’ve needed to kick my communication levels into overdrive. This includes asking lots of questions, raising potential issues early, periodic one-line status updates, and insisting that someone sign-off on the work performed, usually via a project/work tracker.&lt;/p&gt; &lt;p&gt;This last point in particular forces acknowledgement of work being done, and brings a reality to the value it provides. If you can get to a point where you’re overloading someone with finished work to approve, it can help people overcome any anxiety or trust issues that they may have with wondering if you are actually doing any work because they can’t physically see you doing it. The worst thing that can happen is to, say, get stuck on a problem all day and not say anything about it because you’re afraid of being the barer of bad news. If you’re feeling pain, your team/client should also feel it, and I’ve found that concrete pain is far more manageable than uncertainty.&lt;/p&gt; &lt;h2 id=&quot;keeping-up-appearances&quot;&gt;Keeping up appearances&lt;/h2&gt; &lt;p&gt;Although I love the freedom to be able to work where I please, and to be able to focus on tasks without the distractions that an office environment can cause, I still really like face-to-face interactions. After a certain period of time working from home, I can start to really crave just talking to people, anyone, face-to-face (we are social animals, after all). Meetups have really helped me fulfil this need, both professionally and personally, and have been great catalysts to be able to just get out of the house and get a change of scenery.&lt;/p&gt; &lt;h2 id=&quot;just-for-tech&quot;&gt;Just for tech?&lt;/h2&gt; &lt;p&gt;I’m a software engineer and hence my line of work is generally very compatible with remote working, but I don’t think it should be limited there. There are plenty of knowledge workers in non-technical fields who could potentially work remotely, and the barriers to giving it a try are lower than they’ve ever been. A great resource on getting further information about remote work, and arming yourself with great reasons to give it a try to your bosses, is &lt;a href=&quot;https://37signals.com/remote&quot;&gt;Remote: Office not Required&lt;/a&gt;, by Jason Fried and David Heinemeier Hansson.&lt;/p&gt; &lt;p&gt;So, if remote is something that you, as an employee, want to explore further with your company, I’d highly encourage you to trail blaze a path for yourself and your colleagues. I think that any roadblocks incurred along the way will be worth the satisfaction that you will get by gaining more freedom around one of the most important activities in your life.&lt;/p&gt;</content><author><name>Paul Fioravanti</name><email>paul@paulfioravanti.com</email><uri>https://www.paulfioravanti.com</uri></author><category term="remote-working"/><summary type="html">Small thoughts on remote working.</summary></entry></feed>